{"ast":null,"code":"import _toConsumableArray from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/regenerator/index.js\";import{useState,useEffect}from'react';import{getSecurityQuestions}from'../fetches';import Button from'../../components/Button';import{PAGES,BUTTONS}from'../../constants/en';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var questionConfig=[[PAGES.COMPANY_INFORMATIONS.FIELDS.QUESTION1.LABEL,'firstQuestion','q1',PAGES.COMPANY_INFORMATIONS.FIELDS.ANSWER1.LABEL,'firstAnswer'],[PAGES.COMPANY_INFORMATIONS.FIELDS.QUESTION2.LABEL,'secondQuestion','q2',PAGES.COMPANY_INFORMATIONS.FIELDS.ANSWER2.LABEL,'secondAnswer']];var SecurityQuestionsPage=function SecurityQuestionsPage(_ref){var onNextButtonClick=_ref.onNextButtonClick,form=_ref.form,onChange=_ref.onChange;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),securityQuestions=_useState2[0],setSecurityQuestions=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getSecurityQuestions();case 3:result=_context.sent;if(result&&result.data&&result.data.securityQuestions){setSecurityQuestions(result.data.securityQuestions);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(true);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[]);var renderSecurityQuestions=function renderSecurityQuestions(questionTitle,questionName,group,answerTitle,answerName){return/*#__PURE__*/_jsxs(\"div\",{className:questionName!=='firstQuestion'?'mt-4':'',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group-input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:questionName,children:questionTitle}),/*#__PURE__*/_jsxs(\"select\",{id:questionName,name:questionName,value:form[questionName].value,defaultValue:\"\",onChange:onChange,className:\"form-select p-2 mt-2\",style:form[questionName].value===''?{color:'#8B8898'}:null,children:[/*#__PURE__*/_jsx(\"option\",{hidden:true,value:\"\",children:PAGES.COMPANY_INFORMATIONS.FIELDS.QUESTION1.PLACEHOLDER}),securityQuestions&&securityQuestions[group].map(function(q){return/*#__PURE__*/_jsx(\"option\",{value:q.ID,children:q.SecurityQuestion},q.ID);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-input mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:answerName,children:answerTitle}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control p-2 mt-2\",type:\"text\",id:answerName,name:answerName,value:form[answerName].value,placeholder:PAGES.COMPANY_INFORMATIONS.FIELDS.ANSWER1.PLACEHOLDER,onChange:onChange})]})]},questionName);};return/*#__PURE__*/_jsxs(\"div\",{className:\"group-inputs p-3\",children:[questionConfig.map(function(q){return renderSecurityQuestions.apply(void 0,_toConsumableArray(q));}),/*#__PURE__*/_jsx(Button,{onClick:onNextButtonClick,text:BUTTONS.NEXT,disabled:!form.firstAnswer.value||!form.secondAnswer.value})]});};export default SecurityQuestionsPage;","map":{"version":3,"sources":["/home/mspl/Desktop/peerformance_frontend/src/Signup/components/SecurityQuestionsPage.jsx"],"names":["useState","useEffect","getSecurityQuestions","Button","PAGES","BUTTONS","questionConfig","COMPANY_INFORMATIONS","FIELDS","QUESTION1","LABEL","ANSWER1","QUESTION2","ANSWER2","SecurityQuestionsPage","onNextButtonClick","form","onChange","securityQuestions","setSecurityQuestions","fetchData","result","data","console","error","renderSecurityQuestions","questionTitle","questionName","group","answerTitle","answerName","value","color","PLACEHOLDER","map","q","ID","SecurityQuestion","NEXT","firstAnswer","secondAnswer"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { getSecurityQuestions } from '../fetches';\nimport Button from '../../components/Button';\nimport { PAGES,BUTTONS } from '../../constants/en';\n\nconst questionConfig = [\n\t[PAGES.COMPANY_INFORMATIONS.FIELDS.QUESTION1.LABEL, 'firstQuestion', 'q1', PAGES.COMPANY_INFORMATIONS.FIELDS.ANSWER1.LABEL, 'firstAnswer'],\n\t[PAGES.COMPANY_INFORMATIONS.FIELDS.QUESTION2.LABEL, 'secondQuestion', 'q2', PAGES.COMPANY_INFORMATIONS.FIELDS.ANSWER2.LABEL, 'secondAnswer'],\n];\n\nconst SecurityQuestionsPage = ({ onNextButtonClick, form, onChange }) => {\n\tconst [securityQuestions, setSecurityQuestions] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\ttry {\n\t\t\t\tconst result = await getSecurityQuestions();\n\n\t\t\t\tif (result && result.data && result.data.securityQuestions) {\n\t\t\t\t\tsetSecurityQuestions(result.data.securityQuestions);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(true);\n\t\t\t}\n\t\t};\n\n\t\tfetchData();\n\t}, []);\n\n\tconst renderSecurityQuestions = (\n\t\tquestionTitle,\n\t\tquestionName,\n\t\tgroup,\n\t\tanswerTitle,\n\t\tanswerName\n\t) => {\n\t\treturn (\n\t\t\t<div key={questionName} className={questionName !== 'firstQuestion' ? 'mt-4' : ''}>\n\t\t\t\t<div className='group-input'>\n\t\t\t\t\t<label htmlFor={questionName}>{questionTitle}</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tid={questionName}\n\t\t\t\t\t\tname={questionName}\n\t\t\t\t\t\tvalue={form[questionName].value}\n\t\t\t\t\t\tdefaultValue=''\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tclassName='form-select p-2 mt-2'\n\t\t\t\t\t\tstyle={form[questionName].value === '' ? { color: '#8B8898' } : null}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option hidden value=''>\n\t\t\t\t\t\t\t{PAGES.COMPANY_INFORMATIONS.FIELDS.QUESTION1.PLACEHOLDER}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t{securityQuestions &&\n\t\t\t\t\t\t\tsecurityQuestions[group].map((q) => (\n\t\t\t\t\t\t\t\t<option key={q.ID} value={q.ID}>\n\t\t\t\t\t\t\t\t\t{q.SecurityQuestion}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className='group-input mt-2'>\n\t\t\t\t\t<label htmlFor={answerName}>{answerTitle}</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='form-control p-2 mt-2'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tid={answerName}\n\t\t\t\t\t\tname={answerName}\n\t\t\t\t\t\tvalue={form[answerName].value}\n\t\t\t\t\t\tplaceholder={PAGES.COMPANY_INFORMATIONS.FIELDS.ANSWER1.PLACEHOLDER}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className='group-inputs p-3'>\n\t\t\t{questionConfig.map((q) => renderSecurityQuestions(...q))}\n\t\t\t<Button\n\t\t\t\tonClick={onNextButtonClick}\n\t\t\t\ttext={BUTTONS.NEXT}\n\t\t\t\tdisabled={!form.firstAnswer.value || !form.secondAnswer.value}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default SecurityQuestionsPage;\n"]},"metadata":{},"sourceType":"module"}