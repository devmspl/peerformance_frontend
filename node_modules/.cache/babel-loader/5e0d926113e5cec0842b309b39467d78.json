{"ast":null,"code":"import _asyncToGenerator from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import{FaJediOrder}from\"react-icons/all\";export var fetchRegions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/regions',{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context.sent;console.log(\"This is what we received\"+response.data);return _context.abrupt(\"return\",response.data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"error\",_context.t0);return _context.abrupt(\"return\",[]);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchRegions(){return _ref.apply(this,arguments);};}();export var fetchRegionChild=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(parent){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/regions/\".concat(parent,\"/datapoint\"),// const response = await axios.get(`/regions/2/datapoint`,\n{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context2.sent;console.log(\"This is the result 2:\"+response.data);return _context2.abrupt(\"return\",response.data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(\"error\",_context2.t0);return _context2.abrupt(\"return\",[]);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function fetchRegionChild(_x){return _ref2.apply(this,arguments);};}();// Get the first three regions - All of UK, Europe, Global,\nexport var fetchTop3Level=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get('/regions/top3',{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context3.sent;// set the top 3 levels\nwindow.localStorage.setItem(\"top3Regions\",JSON.stringify(response.data));return _context3.abrupt(\"return\",response.data);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(\"error\",_context3.t0);return _context3.abrupt(\"return\",[]);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function fetchTop3Level(){return _ref3.apply(this,arguments);};}();export var fetchUserInfo=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get('/users/info',{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context4.sent;// we are setting a variable that the user has logged in\nsessionStorage.setItem(\"userIsLoggedIn\",\"true\");console.log(\"response.data\"+JSON.stringify(response.data));return _context4.abrupt(\"return\",response.data);case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);console.log(\"error\",_context4.t0);return _context4.abrupt(\"return\",[]);case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,9]]);}));return function fetchUserInfo(){return _ref4.apply(this,arguments);};}();// Get region by id - studyID, regionId\nexport var fetchStudyByRegion=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(peerGroupId,regionId){var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.get(\"/studies/\".concat(peerGroupId,\"/\").concat(regionId),{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.log(\"error\",_context5.t0);return _context5.abrupt(\"return\",[]);case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function fetchStudyByRegion(_x2,_x3){return _ref5.apply(this,arguments);};}();export var fetchStudies=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(peerGroupId){var response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return axios.get(\"/studies/\".concat(peerGroupId),{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context6.sent;console.log(\"This is the peer group id :\",peerGroupId);console.log(\"This is the study:\",response.data);return _context6.abrupt(\"return\",response.data);case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](0);console.log(\"error\",_context6.t0);return _context6.abrupt(\"return\",[]);case 13:case\"end\":return _context6.stop();}}},_callee6,null,[[0,9]]);}));return function fetchStudies(_x4){return _ref6.apply(this,arguments);};}();//\nexport var fetchUserSubscriptions=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id){var response;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return axios.get(\"/users/subscriptions\",{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context7.sent;console.log(\"response.data\"+JSON.stringify(response.data));sessionStorage.setItem(\"userSubscription\",JSON.stringify(response.data));return _context7.abrupt(\"return\",response.data);case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](0);console.log(\"error\",_context7.t0);return _context7.abrupt(\"return\",[]);case 13:case\"end\":return _context7.stop();}}},_callee7,null,[[0,9]]);}));return function fetchUserSubscriptions(_x5){return _ref7.apply(this,arguments);};}();export var addSubscription=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id){var response;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return axios.post(\"/users/subscriptions\",{studyId:id},{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context8.sent;return _context8.abrupt(\"return\",response.data);case 7:_context8.prev=7;_context8.t0=_context8[\"catch\"](0);console.log(\"error\",_context8.t0);return _context8.abrupt(\"return\",[]);case 11:case\"end\":return _context8.stop();}}},_callee8,null,[[0,7]]);}));return function addSubscription(_x6){return _ref8.apply(this,arguments);};}();export var fetchAddStudyData=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(value,studyId){var response;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return axios.post(\"/studydata/\".concat(studyId,\"/datapoint\"),{encryptedValue:value,value:value},{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context9.sent;return _context9.abrupt(\"return\",response.data);case 7:_context9.prev=7;_context9.t0=_context9[\"catch\"](0);console.log(\"error\",_context9.t0);return _context9.abrupt(\"return\",[]);case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[0,7]]);}));return function fetchAddStudyData(_x7,_x8){return _ref9.apply(this,arguments);};}();export var fetchGetStudyData=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(studyId){var response;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return axios.get(\"/studydata/\".concat(studyId,\"/datapoint\"),{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context10.sent;return _context10.abrupt(\"return\",response.data);case 7:_context10.prev=7;_context10.t0=_context10[\"catch\"](0);console.log(\"error\",_context10.t0);return _context10.abrupt(\"return\",[]);case 11:case\"end\":return _context10.stop();}}},_callee10,null,[[0,7]]);}));return function fetchGetStudyData(_x9){return _ref10.apply(this,arguments);};}();// Update the sql user table with the user's last region\nexport var updateRegion=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(regionID){var response;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;_context11.next=3;return axios.put(\"/users/region\",{regionID:regionID},{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context11.sent;return _context11.abrupt(\"return\",response.data);case 7:_context11.prev=7;_context11.t0=_context11[\"catch\"](0);console.log(\"error\",_context11.t0);return _context11.abrupt(\"return\",[]);case 11:case\"end\":return _context11.stop();}}},_callee11,null,[[0,7]]);}));return function updateRegion(_x10){return _ref11.apply(this,arguments);};}();// Update the sql user table with the user's last selected peer group\nexport var updatePeerGroup=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(id){var response;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return axios.put(\"/users/peergroup\",{peerGroupId:id},{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context12.sent;return _context12.abrupt(\"return\",response.data);case 7:_context12.prev=7;_context12.t0=_context12[\"catch\"](0);console.log(\"error\",_context12.t0);return _context12.abrupt(\"return\",[]);case 11:case\"end\":return _context12.stop();}}},_callee12,null,[[0,7]]);}));return function updatePeerGroup(_x11){return _ref12.apply(this,arguments);};}();export var fetchRegionById=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(regionId){var response;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.prev=0;_context13.next=3;return axios.get(\"/regions/\".concat(regionId),{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context13.sent;sessionStorage.setItem(\"regionId\",response.data[0].ID);sessionStorage.setItem(\"regionName\",response.data[0].Name);sessionStorage.setItem(\"userIsLoggedIn\",\"true\");return _context13.abrupt(\"return\",response.data);case 10:_context13.prev=10;_context13.t0=_context13[\"catch\"](0);console.log(\"error\",_context13.t0);return _context13.abrupt(\"return\",[]);case 14:case\"end\":return _context13.stop();}}},_callee13,null,[[0,10]]);}));return function fetchRegionById(_x12){return _ref13.apply(this,arguments);};}();export var fetchPeerGroup=/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(peerGroupId){var response;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.prev=0;_context14.next=3;return axios.get(\"/peergroup/\".concat(peerGroupId),{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context14.sent;sessionStorage.setItem(\"fetchedLevel4\",response.data[0].Category);// fine\nsessionStorage.setItem(\"fetchedLevel6\",response.data[1].Category);// fine\nsessionStorage.setItem(\"fetchedLevel4SIC\",response.data[0].sic);// fine\nsessionStorage.setItem(\"fetchedLevel6SIC\",response.data[1].sic);// fine\nsessionStorage.setItem(\"userIsLoggedIn\",\"true\");return _context14.abrupt(\"return\",response.data);case 12:_context14.prev=12;_context14.t0=_context14[\"catch\"](0);console.log(\"error\",_context14.t0);return _context14.abrupt(\"return\",[]);case 16:case\"end\":return _context14.stop();}}},_callee14,null,[[0,12]]);}));return function fetchPeerGroup(_x13){return _ref14.apply(this,arguments);};}();// Participant range data\nexport var fetchParticipantRange=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(){var response;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.prev=0;_context15.next=3;return axios.get(\"/getrange\",{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context15.sent;return _context15.abrupt(\"return\",response.data);case 7:_context15.prev=7;_context15.t0=_context15[\"catch\"](0);console.log(\"error\",_context15.t0);return _context15.abrupt(\"return\",[]);case 11:case\"end\":return _context15.stop();}}},_callee15,null,[[0,7]]);}));return function fetchParticipantRange(){return _ref15.apply(this,arguments);};}();// Participant get participant breakdown data\nexport var fetchParticipantBreakDown=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(studyId){var response;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.prev=0;_context16.next=3;return axios.get(\"/participantbreakdowndata/\".concat(studyId,\"/datapoint\"),{headers:{'authorization':sessionStorage.getItem('token')}});case 3:response=_context16.sent;sessionStorage.setItem(\"breakDown\",response.data);return _context16.abrupt(\"return\",response.data);case 8:_context16.prev=8;_context16.t0=_context16[\"catch\"](0);console.log(\"error\",_context16.t0);return _context16.abrupt(\"return\",[]);case 12:case\"end\":return _context16.stop();}}},_callee16,null,[[0,8]]);}));return function fetchParticipantBreakDown(_x14){return _ref16.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/mspl/Desktop/peerformance_frontend/src/store/dashboardFetches.js"],"names":["axios","FaJediOrder","fetchRegions","get","headers","sessionStorage","getItem","response","console","log","data","fetchRegionChild","parent","fetchTop3Level","window","localStorage","setItem","JSON","stringify","fetchUserInfo","fetchStudyByRegion","peerGroupId","regionId","fetchStudies","fetchUserSubscriptions","id","addSubscription","post","studyId","fetchAddStudyData","value","encryptedValue","fetchGetStudyData","updateRegion","regionID","put","updatePeerGroup","fetchRegionById","ID","Name","fetchPeerGroup","Category","sic","fetchParticipantRange","fetchParticipantBreakDown"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {FaJediOrder} from \"react-icons/all\";\n\nexport const fetchRegions = async () => {\n    try {\n        const response = await axios.get('/regions',\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        console.log(\"This is what we received\" + response.data);\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\nexport const fetchRegionChild = async parent => {\n    try {\n        const response = await axios.get(`/regions/${parent}/datapoint`,\n            // const response = await axios.get(`/regions/2/datapoint`,\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        console.log(\"This is the result 2:\" + response.data)\n\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\n// Get the first three regions - All of UK, Europe, Global,\nexport const fetchTop3Level = async () => {\n    try {\n        const response = await axios.get('/regions/top3',\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n\n        // set the top 3 levels\n        window.localStorage.setItem(\"top3Regions\", JSON.stringify(response.data));\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\nexport const fetchUserInfo = async () => {\n    try {\n        const response = await axios.get('/users/info',\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        // we are setting a variable that the user has logged in\n        sessionStorage.setItem(\"userIsLoggedIn\", \"true\");\n        console.log(\"response.data\" + JSON.stringify(response.data));\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\n// Get region by id - studyID, regionId\nexport const fetchStudyByRegion = async (peerGroupId, regionId) => {\n    try {\n        //let response = await axios.get(`/studies/16775/1`,\n        let response = await axios.get(`/studies/${peerGroupId}/${regionId}`,\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\nexport const fetchStudies = async (peerGroupId) => {\n    try {\n        const response = await axios.get(`/studies/${peerGroupId}`,\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n\n        console.log(\"This is the peer group id :\", peerGroupId)\n        console.log(\"This is the study:\", response.data)\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\n//\nexport const fetchUserSubscriptions = async (id) => {\n    try {\n        const response = await axios.get(\"/users/subscriptions\",\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        console.log(\"response.data\" + JSON.stringify(response.data));\n        sessionStorage.setItem(\"userSubscription\", JSON.stringify(response.data));\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\nexport const addSubscription = async (id) => {\n    try {\n        const response = await axios.post(\"/users/subscriptions\",\n            {\n                studyId: id\n            },\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\nexport const fetchAddStudyData = async (value, studyId) => {\n    try {\n        const response = await axios.post(`/studydata/${studyId}/datapoint`,\n            {\n                encryptedValue: value,\n                value: value\n            },\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\nexport const fetchGetStudyData = async studyId => {\n    try {\n        const response = await axios.get(`/studydata/${studyId}/datapoint`,\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\n// Update the sql user table with the user's last region\nexport const updateRegion = async (regionID) => {\n    try {\n        const response = await axios.put(\"/users/region\",\n            {\n                regionID: regionID\n            },\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\n// Update the sql user table with the user's last selected peer group\nexport const updatePeerGroup = async (id) => {\n    try {\n        const response = await axios.put(\"/users/peergroup\",\n            {\n                peerGroupId: id\n            },\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\nexport const fetchRegionById = async regionId => {\n    try {\n        const response = await axios.get(`/regions/${regionId}`,\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n\n        sessionStorage.setItem(\"regionId\", response.data[0].ID);\n        sessionStorage.setItem(\"regionName\", response.data[0].Name);\n        sessionStorage.setItem(\"userIsLoggedIn\", \"true\");\n\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\nexport const fetchPeerGroup = async peerGroupId => {\n    try {\n        const response = await axios.get(`/peergroup/${peerGroupId}`,\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        sessionStorage.setItem(\"fetchedLevel4\", response.data[0].Category); // fine\n        sessionStorage.setItem(\"fetchedLevel6\", response.data[1].Category); // fine\n\n        sessionStorage.setItem(\"fetchedLevel4SIC\", response.data[0].sic); // fine\n        sessionStorage.setItem(\"fetchedLevel6SIC\", response.data[1].sic); // fine\n        sessionStorage.setItem(\"userIsLoggedIn\", \"true\");\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\n// Participant range data\nexport const fetchParticipantRange = async () => {\n    try {\n        const response = await axios.get(\"/getrange\",\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n\n// Participant get participant breakdown data\nexport const fetchParticipantBreakDown = async (studyId) => {\n    try {\n        // :studyID/datapoint\n        const response = await axios.get(`/participantbreakdowndata/${studyId}/datapoint`,\n            {\n                headers: {\n                    'authorization': sessionStorage.getItem('token')\n                }\n            });\n        sessionStorage.setItem(\"breakDown\", response.data);\n        return response.data;\n    } catch (err) {\n        console.log(`error`, err);\n        return [];\n    }\n};\n"]},"metadata":{},"sourceType":"module"}