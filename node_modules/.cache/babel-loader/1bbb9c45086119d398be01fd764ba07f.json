{"ast":null,"code":"import axios from'axios';var _=require('lodash');var url=\"/quicklink\";var localStorageQuicklink;function getQuickLinks(token){axios.get(url,{headers:{'authorization':token}}).then(function(response){// handle success\n// console.log(fetchedData)\nwindow.localStorage.removeItem('quickLinks');var quickLinks=JSON.stringify(response.data.quickLinks);window.localStorage.setItem('quickLinks',quickLinks);localStorageQuicklink=JSON.parse(localStorage.getItem('quickLinks'));// we can return this\n}).catch(function(error){// handle error\nconsole.log(error);}).then(function(){// always executed\n});}function loadData(token){// Get QuickLinks\ngetQuickLinks(token);// fetch time\nvar localStorageTime=JSON.parse(localStorage.getItem('categoryTime'));var fetchedObject=JSON.parse(localStorage.getItem('categories'));var url=\"/studygroups\";if(fetchedObject!==null&&fetchedObject!==undefined){url=\"/studygroups?time=\"+localStorageTime;}console.log(url);axios.get(url).then(function(response){// handle success\nif(response.data.status==='new'){// removing the old entries from local storage\nconsole.log('new entries received');window.localStorage.removeItem('categoryTime');window.localStorage.removeItem('categories');var categories=JSON.stringify(response.data.categories);var categoryTime=JSON.stringify(response.data.time);categories=categories.replace(/\\\\r/g,'');window.localStorage.setItem('categoryTime',categoryTime);window.localStorage.setItem('categories',categories);localStorageTime=JSON.parse(localStorage.getItem('categoryTime'));fetchedObject=JSON.parse(localStorage.getItem('categories'));window.location.reload();}else{// do nothing\n}}).catch(function(error){// handle error\nconsole.log(error);}).then(function(){// always executed\n});return fetchedObject;}export default loadData;","map":{"version":3,"sources":["/home/mspl/Desktop/peerformance_frontend/src/Utils/category.js"],"names":["axios","_","require","url","localStorageQuicklink","getQuickLinks","token","get","headers","then","response","window","localStorage","removeItem","quickLinks","JSON","stringify","data","setItem","parse","getItem","catch","error","console","log","loadData","localStorageTime","fetchedObject","undefined","status","categories","categoryTime","time","replace","location","reload"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nlet _ = require('lodash');\nlet url = `/quicklink`;\n\nlet localStorageQuicklink;\n\n\nfunction getQuickLinks(token) {\n    axios\n        .get(url,\n            {\n            headers: {\n                'authorization': token\n            }\n        })\n        .then(function (response) {\n            // handle success\n            // console.log(fetchedData)\n            window.localStorage.removeItem('quickLinks');\n            let quickLinks = JSON.stringify(response.data.quickLinks);\n            window.localStorage.setItem('quickLinks', quickLinks);\n\n            localStorageQuicklink = JSON.parse(localStorage.getItem('quickLinks')); // we can return this\n        })\n        .catch(function (error) {\n            // handle error\n            console.log(error);\n        })\n        .then(function () {\n            // always executed\n        });\n\n}\nfunction loadData(token) {\n\n    // Get QuickLinks\n    getQuickLinks(token);\n\n    // fetch time\n    let localStorageTime = JSON.parse(localStorage.getItem('categoryTime'));\n    let fetchedObject = JSON.parse(localStorage.getItem('categories'));\n\n    let url = `/studygroups`;\n    if (fetchedObject !== null && fetchedObject !== undefined) {\n        url = `/studygroups?time=` + localStorageTime;\n    }\n    console.log(url);\n    axios\n        .get(url)\n        .then(function (response) {\n            // handle success\n            if (response.data.status === 'new') {\n                // removing the old entries from local storage\n                console.log('new entries received');\n                window.localStorage.removeItem('categoryTime');\n                window.localStorage.removeItem('categories');\n\n                let categories = JSON.stringify(response.data.categories);\n                let categoryTime = JSON.stringify(response.data.time);\n                categories = categories.replace(/\\\\r/g, '');\n\n                window.localStorage.setItem('categoryTime', categoryTime);\n                window.localStorage.setItem('categories', categories);\n                localStorageTime = JSON.parse(localStorage.getItem('categoryTime'));\n                fetchedObject = JSON.parse(localStorage.getItem('categories'));\n                window.location.reload();\n            } else {\n                // do nothing\n            }\n        })\n        .catch(function (error) {\n            // handle error\n            console.log(error);\n        })\n        .then(function () {\n            // always executed\n        });\n    return fetchedObject;\n}\n\nexport default loadData;\n"]},"metadata":{},"sourceType":"module"}