{"ast":null,"code":"import _asyncToGenerator from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import*as fetches from'./fetches';import ConfirmationPopup from'./components/ConfirmationPopup';import TermsAndConditionsPopup from'./components/TermsAndConditionsPopup/TermsAndConditionsPopup';import{passwordStrength}from'check-password-strength';import PeerformanceLogo from\"../assets/peerformance_logo.svg\";import validator from'email-syntax-validator';import TermsAndConditions from'./components/TermsAndConditions';import Button from'../components/Button';import InputFeedback from'../components/InputFeedback';import{feedbackMessages}from'./constants';import{PAGES,BUTTONS}from'../constants/en';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFormState={emailAddress:{value:'',isValid:true,error:false},password:{value:'',isValid:true,error:false},confirmPassword:{value:'',isValid:true,error:false},firstName:{value:'',isValid:true},surname:{value:'',isValid:true}};var Signup2=/*#__PURE__*/function(_Component){_inherits(Signup2,_Component);var _super=_createSuper(Signup2);function Signup2(){var _this;_classCallCheck(this,Signup2);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={inputsForm:initialFormState,isConfirmationPopupOpened:false,conditionsAreAgreed:false,isTermsAndConditionsPopupOpened:false,alertMessage:{type:'',message:''}};_this.setInputValue=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{inputsForm:_objectSpread(_objectSpread({},prevState.inputsForm),{},_defineProperty({},name,_objectSpread(_objectSpread({},prevState.inputsForm[name]),{},{value:value,isValid:!!value})))});});};_this.setInvalidField=function(fieldName,value,error){_this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{inputsForm:_objectSpread(_objectSpread({},prevState.inputsForm),{},_defineProperty({},fieldName,_objectSpread(_objectSpread({},prevState.inputsForm[fieldName]),{},{isValid:value,error:error})))});});};_this.registerAccount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state$inputsFor,emailAddress,password,firstName,surname,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state$inputsFor=_this.state.inputsForm,emailAddress=_this$state$inputsFor.emailAddress,password=_this$state$inputsFor.password,firstName=_this$state$inputsFor.firstName,surname=_this$state$inputsFor.surname;_context.prev=1;_context.next=4;return fetches.signUp(emailAddress.value,password.value,firstName.value,surname.value);case 4:response=_context.sent;if(response){_this.setAlert('success',PAGES.SIGN_UP.MESSAGES.CREATED_ACCOUNT);_this.clearForm();}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);if(_context.t0.response){console.log(\"error\",_context.t0.response);}case 11:_context.prev=11;_this.closeConfirmationPopup();return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,8,11,14]]);}));_this.checkAccount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var value,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:value=_this.state.inputsForm.emailAddress.value;_context2.next=3;return fetches.checkAccount(value);case 3:response=_context2.sent;return _context2.abrupt(\"return\",response&&response.data?response.data:null);case 5:case\"end\":return _context2.stop();}}},_callee2);}));_this.refreshTokenMessage=function(){return/*#__PURE__*/_jsxs(\"p\",{children:[\"User activation in progress.\",/*#__PURE__*/_jsx(\"br\",{}),\"Please check your e-mail or click this link to regenerate process:\\xA0\",/*#__PURE__*/_jsx(\"span\",{className:\"text-decoration-underline text-primary c-pointer\",onClick:_this.handleRefreshToken,children:\"link\"})]});};_this.handleRefreshToken=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetches.refreshToken(_this.state.inputsForm.emailAddress.value);case 2:_this.setAlert('success',PAGES.SIGN_UP.MESSAGES.EMAIL_SENT);case 3:case\"end\":return _context3.stop();}}},_callee3);}));_this.onSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){var accountInfo;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:e.preventDefault();_this.clearAlert();if(!_this.checkFormIsValid()){_context4.next=9;break;}_context4.next=5;return _this.checkAccount();case 5:accountInfo=_context4.sent;if(accountInfo&&accountInfo.userExists){_this.setAlert('danger',PAGES.SIGN_UP.MESSAGES.ACCOUNT_EXIST);}else if(accountInfo.userActivationInProgress){_this.setAlert('warning',_this.refreshTokenMessage());}else if(accountInfo.domainInOrganization){_this.openConfirmationPopup();}else{_this.registerAccount();}_context4.next=10;break;case 9:_this.setAlert('danger',PAGES.SIGN_UP.MESSAGES.FILL_REQUIRED_FIELDS);case 10:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x){return _ref4.apply(this,arguments);};}();_this.checkFormIsValid=function(){var inputsForm=_this.state.inputsForm;var hasError=[];Object.keys(inputsForm).forEach(function(field){switch(field){case'emailAddress':if(inputsForm[field].value&&!validator.validate(inputsForm[field].value)){_this.setInvalidField(field,false,true);hasError.push(1);}else{_this.setInvalidField(field,!!inputsForm[field].value,false);hasError.push(!!inputsForm[field].value?0:1);}break;case'password':if(inputsForm[field].value&&!_this.checkPasswordStrength(inputsForm[field].value)){_this.setInvalidField(field,!!inputsForm[field].value,true);hasError.push(1);}else{_this.setInvalidField(field,!!inputsForm[field].value,false);hasError.push(!!inputsForm[field].value?0:1);}break;case'confirmPassword':if(inputsForm[field].value!==inputsForm.password.value){_this.setInvalidField(field,!!inputsForm[field].value,true);hasError.push(1);}else{_this.setInvalidField(field,!!inputsForm[field].value,false);hasError.push(!!inputsForm[field].value?0:1);}break;default:_this.setInvalidField(field,!!inputsForm[field].value);hasError.push(!!inputsForm[field].value?0:1);break;}});return!hasError.some(function(i){return i===1;});};_this.checkPasswordStrength=function(password){var _passwordStrength;return((_passwordStrength=passwordStrength(password))===null||_passwordStrength===void 0?void 0:_passwordStrength.id)===3;};_this.closeConfirmationPopup=function(){_this.setState({isConfirmationPopupOpened:false});};_this.openConfirmationPopup=function(){_this.setState({isConfirmationPopupOpened:true});};_this.closeTermsAndConditionsPopup=function(){_this.setState({isTermsAndConditionsPopupOpened:false});};_this.openTermsAndConditionsPopup=function(){_this.setState({isTermsAndConditionsPopupOpened:true});};_this.agreedOrDisagreedConditions=function(value){_this.closeTermsAndConditionsPopup();_this.setState({conditionsAreAgreed:value});};_this.switchAgreed=function(){_this.setState({conditionsAreAgreed:!_this.state.conditionsAreAgreed});};_this.setAlert=function(type,message){return _this.setState({alertMessage:{type:type,message:message}});};_this.clearAlert=function(){return _this.setState({alertMessage:{type:'',message:''}});};_this.clearForm=function(){return _this.setState({inputsForm:initialFormState,conditionsAreAgreed:false});};return _this;}_createClass(Signup2,[{key:\"render\",value:function render(){var _this$state=this.state,_this$state$inputsFor2=_this$state.inputsForm,emailAddress=_this$state$inputsFor2.emailAddress,password=_this$state$inputsFor2.password,confirmPassword=_this$state$inputsFor2.confirmPassword,firstName=_this$state$inputsFor2.firstName,surname=_this$state$inputsFor2.surname,isConfirmationPopupOpened=_this$state.isConfirmationPopupOpened,conditionsAreAgreed=_this$state.conditionsAreAgreed,isTermsAndConditionsPopupOpened=_this$state.isTermsAndConditionsPopupOpened,alertMessage=_this$state.alertMessage;var registerAccount=this.registerAccount,onSubmit=this.onSubmit,closeConfirmationPopup=this.closeConfirmationPopup,closeTermsAndConditionsPopup=this.closeTermsAndConditionsPopup,openTermsAndConditionsPopup=this.openTermsAndConditionsPopup,agreedOrDisagreedConditions=this.agreedOrDisagreedConditions,switchAgreed=this.switchAgreed;var SIGN_UP=PAGES.SIGN_UP;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-5 col-sm-12 mx-auto\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-50 mx-auto d-block mt-5\",src:PeerformanceLogo,alt:\"Peerformance Logo\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"form\",{noValidate:true,className:\"w-100\",onSubmit:onSubmit,children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"group-inputs p-3\",children:[alertMessage.message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-\".concat(alertMessage.type,\" notification-message\"),role:\"alert\",children:alertMessage.message}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-input mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:SIGN_UP.FORM.FIRST_NAME.LABEL}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-2 \".concat(!firstName.isValid?'is-invalid':''),type:\"text\",id:\"firstName\",name:\"firstName\",value:firstName.value,onChange:this.setInputValue,placeholder:SIGN_UP.FORM.FIRST_NAME.PLACEHOLDER,autoFocus:true,required:true}),!this.state.inputsForm.firstName.isValid&&/*#__PURE__*/_jsx(InputFeedback,{message:feedbackMessages.firstName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-input mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"surname\",children:SIGN_UP.FORM.LAST_NAME.LABEL}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-2 \".concat(!surname.isValid?'is-invalid':''),type:\"text\",id:\"surname\",name:\"surname\",value:surname.value,placeholder:SIGN_UP.FORM.LAST_NAME.PLACEHOLDER,onChange:this.setInputValue,required:true}),!this.state.inputsForm.surname.isValid&&/*#__PURE__*/_jsx(InputFeedback,{message:feedbackMessages.lastName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-input mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"emailAddress\",children:SIGN_UP.FORM.EMAIL.LABEL}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-2 \".concat(!emailAddress.isValid||emailAddress.error?'is-invalid':''),type:\"email\",id:\"emailAddress\",name:\"emailAddress\",value:emailAddress.value,onChange:this.setInputValue,placeholder:SIGN_UP.FORM.EMAIL.PLACEHOLDER,required:true}),!this.state.inputsForm.emailAddress.isValid&&!this.state.inputsForm.emailAddress.error&&/*#__PURE__*/_jsx(InputFeedback,{message:feedbackMessages.emailRequired}),!this.state.inputsForm.emailAddress.isValid&&this.state.inputsForm.emailAddress.error&&/*#__PURE__*/_jsx(InputFeedback,{message:feedbackMessages.invalidEmail})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-input mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:SIGN_UP.FORM.PASSWORD.LABEL}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-2 \".concat(!password.isValid||password.error?'is-invalid':''),type:\"password\",id:\"password\",name:\"password\",value:password.value,onChange:this.setInputValue,placeholder:SIGN_UP.FORM.PASSWORD.PLACEHOLDER,required:true}),!this.state.inputsForm.password.isValid&&/*#__PURE__*/_jsx(InputFeedback,{message:feedbackMessages.emptyPassword}),this.state.inputsForm.password.error&&/*#__PURE__*/_jsx(InputFeedback,{message:feedbackMessages.passwordRequirements})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-input mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:SIGN_UP.FORM.CONFIRM_PASSWORD.LABEL}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mt-2 \".concat(!confirmPassword.isValid||confirmPassword.error?'is-invalid':''),type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:confirmPassword.value,onChange:this.setInputValue,placeholder:SIGN_UP.FORM.CONFIRM_PASSWORD.PLACEHOLDER,required:true}),!this.state.inputsForm.confirmPassword.isValid&&/*#__PURE__*/_jsx(InputFeedback,{message:feedbackMessages.emptyConnfirmPassword}),this.state.inputsForm.confirmPassword.error&&/*#__PURE__*/_jsx(InputFeedback,{message:feedbackMessages.samePasswords})]}),/*#__PURE__*/_jsx(TermsAndConditions,{switchAgreed:switchAgreed,conditionsAreAgreed:conditionsAreAgreed,openTermsAndConditionsPopup:openTermsAndConditionsPopup}),/*#__PURE__*/_jsx(Button,{type:\"submit\",text:BUTTONS.SIGN_UP,disabled:!conditionsAreAgreed})]})})})]})}),/*#__PURE__*/_jsx(ConfirmationPopup,{isConfirmationPopupOpened:isConfirmationPopupOpened,closeConfirmationPopup:closeConfirmationPopup,registerAccount:registerAccount}),/*#__PURE__*/_jsx(TermsAndConditionsPopup,{isOpen:isTermsAndConditionsPopupOpened,closePopup:closeTermsAndConditionsPopup,setAgreeConditionsValue:agreedOrDisagreedConditions})]});}}]);return Signup2;}(Component);export{Signup2 as default};","map":{"version":3,"sources":["/home/mspl/Desktop/peerformance_frontend/src/Signup/Signup2.js"],"names":["React","Component","fetches","ConfirmationPopup","TermsAndConditionsPopup","passwordStrength","validator","TermsAndConditions","Button","InputFeedback","feedbackMessages","PAGES","BUTTONS","initialFormState","emailAddress","value","isValid","error","password","confirmPassword","firstName","surname","Signup2","state","inputsForm","isConfirmationPopupOpened","conditionsAreAgreed","isTermsAndConditionsPopupOpened","alertMessage","type","message","setInputValue","e","target","name","setState","prevState","setInvalidField","fieldName","registerAccount","signUp","response","setAlert","SIGN_UP","MESSAGES","CREATED_ACCOUNT","clearForm","console","log","closeConfirmationPopup","checkAccount","data","refreshTokenMessage","handleRefreshToken","refreshToken","EMAIL_SENT","onSubmit","preventDefault","clearAlert","checkFormIsValid","accountInfo","userExists","ACCOUNT_EXIST","userActivationInProgress","domainInOrganization","openConfirmationPopup","FILL_REQUIRED_FIELDS","hasError","Object","keys","forEach","field","validate","push","checkPasswordStrength","some","i","id","closeTermsAndConditionsPopup","openTermsAndConditionsPopup","agreedOrDisagreedConditions","switchAgreed","PeerformanceLogo","FORM","FIRST_NAME","LABEL","PLACEHOLDER","LAST_NAME","lastName","EMAIL","emailRequired","invalidEmail","PASSWORD","emptyPassword","passwordRequirements","CONFIRM_PASSWORD","emptyConnfirmPassword","samePasswords"],"mappings":"o+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,WAAzB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,gCAA9B,CACA,MAAOC,CAAAA,uBAAP,KAAoC,8DAApC,CACA,OAASC,gBAAT,KAAiC,yBAAjC,C,8DAEA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,iCAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,OAASC,gBAAT,KAAiC,aAAjC,CACA,OAASC,KAAT,CAAgBC,OAAhB,KAA+B,iBAA/B,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAG,CACxBC,YAAY,CAAE,CACbC,KAAK,CAAE,EADM,CAEbC,OAAO,CAAE,IAFI,CAGbC,KAAK,CAAE,KAHM,CADU,CAMxBC,QAAQ,CAAE,CACTH,KAAK,CAAE,EADE,CAETC,OAAO,CAAE,IAFA,CAGTC,KAAK,CAAE,KAHE,CANc,CAWxBE,eAAe,CAAE,CAChBJ,KAAK,CAAE,EADS,CAEhBC,OAAO,CAAE,IAFO,CAGhBC,KAAK,CAAE,KAHS,CAXO,CAgBxBG,SAAS,CAAE,CACVL,KAAK,CAAE,EADG,CAEVC,OAAO,CAAE,IAFC,CAhBa,CAoBxBK,OAAO,CAAE,CACRN,KAAK,CAAE,EADC,CAERC,OAAO,CAAE,IAFD,CApBe,CAAzB,C,GA0BqBM,CAAAA,O,+TACpBC,K,CAAQ,CACPC,UAAU,CAAEX,gBADL,CAEPY,yBAAyB,CAAE,KAFpB,CAGPC,mBAAmB,CAAE,KAHd,CAIPC,+BAA+B,CAAE,KAJ1B,CAKPC,YAAY,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAYC,OAAO,CAAE,EAArB,CALP,C,OAQRC,a,CAAgB,SAACC,CAAD,CAAO,CACtB,cAAwBA,CAAC,CAACC,MAA1B,CAAQC,IAAR,WAAQA,IAAR,CAAcnB,KAAd,WAAcA,KAAd,CACA,MAAKoB,QAAL,CAAc,SAACC,SAAD,wCACVA,SADU,MAEbZ,UAAU,gCACNY,SAAS,CAACZ,UADJ,wBAERU,IAFQ,gCAGLE,SAAS,CAACZ,UAAV,CAAqBU,IAArB,CAHK,MAIRnB,KAAK,CAAEA,KAJC,CAKRC,OAAO,CAAE,CAAC,CAACD,KALH,IAFG,IAAd,EAWA,C,OAEDsB,e,CAAkB,SAACC,SAAD,CAAYvB,KAAZ,CAAmBE,KAAnB,CAA6B,CAC9C,MAAKkB,QAAL,CAAc,SAACC,SAAD,CAAe,CAC5B,sCACIA,SADJ,MAECZ,UAAU,gCACNY,SAAS,CAACZ,UADJ,wBAERc,SAFQ,gCAGLF,SAAS,CAACZ,UAAV,CAAqBc,SAArB,CAHK,MAIRtB,OAAO,CAAED,KAJD,CAKRE,KAAK,CAALA,KALQ,IAFX,GAWA,CAZD,EAaA,C,OAEDsB,e,sEAAkB,oOAGb,MAAKhB,KAHQ,CAEhBC,UAFgB,CAEFV,YAFE,uBAEFA,YAFE,CAEYI,QAFZ,uBAEYA,QAFZ,CAEsBE,SAFtB,uBAEsBA,SAFtB,CAEiCC,OAFjC,uBAEiCA,OAFjC,uCAKOnB,CAAAA,OAAO,CAACsC,MAAR,CACtB1B,YAAY,CAACC,KADS,CAEtBG,QAAQ,CAACH,KAFa,CAGtBK,SAAS,CAACL,KAHY,CAItBM,OAAO,CAACN,KAJc,CALP,QAKV0B,QALU,eAWhB,GAAIA,QAAJ,CAAc,CACb,MAAKC,QAAL,CAAc,SAAd,CAAyB/B,KAAK,CAACgC,OAAN,CAAcC,QAAd,CAAuBC,eAAhD,EACA,MAAKC,SAAL,GACA,CAde,+EAgBhB,GAAI,YAAML,QAAV,CAAoB,CACnBM,OAAO,CAACC,GAAR,SAAqB,YAAMP,QAA3B,EACA,CAlBe,yBAoBhB,MAAKQ,sBAAL,GApBgB,qG,SAwBlBC,Y,sEAAe,2JAGInC,KAHJ,CAKV,MAAKQ,KALK,CAEbC,UAFa,CAGZV,YAHY,CAGIC,KAHJ,wBAMSb,CAAAA,OAAO,CAACgD,YAAR,CAAqBnC,KAArB,CANT,QAMR0B,QANQ,iDAOPA,QAAQ,EAAIA,QAAQ,CAACU,IAArB,CAA4BV,QAAQ,CAACU,IAArC,CAA4C,IAPrC,0D,SAUfC,mB,CAAsB,8BACrB,iEAEC,aAFD,uFAIC,aACC,SAAS,CAAC,kDADX,CAEC,OAAO,CAAE,MAAKC,kBAFf,kBAJD,GADqB,E,OActBA,kB,sEAAqB,+JACdnD,CAAAA,OAAO,CAACoD,YAAR,CAAqB,MAAK/B,KAAL,CAAWC,UAAX,CAAsBV,YAAtB,CAAmCC,KAAxD,CADc,QAEpB,MAAK2B,QAAL,CAAc,SAAd,CAAyB/B,KAAK,CAACgC,OAAN,CAAcC,QAAd,CAAuBW,UAAhD,EAFoB,wD,SAKrBC,Q,2FAAW,kBAAOxB,CAAP,sIACVA,CAAC,CAACyB,cAAF,GACA,MAAKC,UAAL,GAFU,IAGN,MAAKC,gBAAL,EAHM,iDAIiB,OAAKT,YAAL,EAJjB,QAIHU,WAJG,gBAMT,GAAIA,WAAW,EAAIA,WAAW,CAACC,UAA/B,CAA2C,CAC1C,MAAKnB,QAAL,CAAc,QAAd,CAAwB/B,KAAK,CAACgC,OAAN,CAAcC,QAAd,CAAuBkB,aAA/C,EACA,CAFD,IAEO,IAAIF,WAAW,CAACG,wBAAhB,CAA0C,CAChD,MAAKrB,QAAL,CAAc,SAAd,CAAyB,MAAKU,mBAAL,EAAzB,EACA,CAFM,IAEA,IAAIQ,WAAW,CAACI,oBAAhB,CAAsC,CAC5C,MAAKC,qBAAL,GACA,CAFM,IAEA,CACN,MAAK1B,eAAL,GACA,CAdQ,+BAgBT,MAAKG,QAAL,CAAc,QAAd,CAAwB/B,KAAK,CAACgC,OAAN,CAAcC,QAAd,CAAuBsB,oBAA/C,EAhBS,yD,sEAoBXP,gB,CAAmB,UAAM,CACxB,GAAQnC,CAAAA,UAAR,CAAuB,MAAKD,KAA5B,CAAQC,UAAR,CACA,GAAM2C,CAAAA,QAAQ,CAAG,EAAjB,CAEAC,MAAM,CAACC,IAAP,CAAY7C,UAAZ,EAAwB8C,OAAxB,CAAgC,SAACC,KAAD,CAAW,CAC1C,OAAQA,KAAR,EACC,IAAK,cAAL,CACC,GAAI/C,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAlB,EAA2B,CAACT,SAAS,CAACkE,QAAV,CAAmBhD,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAArC,CAAhC,CAA6E,CAC5E,MAAKsB,eAAL,CAAqBkC,KAArB,CAA4B,KAA5B,CAAmC,IAAnC,EACAJ,QAAQ,CAACM,IAAT,CAAc,CAAd,EACA,CAHD,IAGO,CACN,MAAKpC,eAAL,CAAqBkC,KAArB,CAA4B,CAAC,CAAC/C,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAhD,CAAuD,KAAvD,EACAoD,QAAQ,CAACM,IAAT,CAAc,CAAC,CAACjD,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAApB,CAA4B,CAA5B,CAAgC,CAA9C,EACA,CACD,MACD,IAAK,UAAL,CACC,GACCS,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAlB,EACA,CAAC,MAAK2D,qBAAL,CAA2BlD,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAA7C,CAFF,CAGE,CACD,MAAKsB,eAAL,CAAqBkC,KAArB,CAA4B,CAAC,CAAC/C,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAhD,CAAuD,IAAvD,EACAoD,QAAQ,CAACM,IAAT,CAAc,CAAd,EACA,CAND,IAMO,CACN,MAAKpC,eAAL,CAAqBkC,KAArB,CAA4B,CAAC,CAAC/C,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAhD,CAAuD,KAAvD,EACAoD,QAAQ,CAACM,IAAT,CAAc,CAAC,CAACjD,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAApB,CAA4B,CAA5B,CAAgC,CAA9C,EACA,CACD,MACD,IAAK,iBAAL,CACC,GAAIS,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAlB,GAA4BS,UAAU,CAACN,QAAX,CAAoBH,KAApD,CAA2D,CAC1D,MAAKsB,eAAL,CAAqBkC,KAArB,CAA4B,CAAC,CAAC/C,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAhD,CAAuD,IAAvD,EACAoD,QAAQ,CAACM,IAAT,CAAc,CAAd,EACA,CAHD,IAGO,CACN,MAAKpC,eAAL,CAAqBkC,KAArB,CAA4B,CAAC,CAAC/C,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAhD,CAAuD,KAAvD,EACAoD,QAAQ,CAACM,IAAT,CAAc,CAAC,CAACjD,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAApB,CAA4B,CAA5B,CAAgC,CAA9C,EACA,CACD,MACD,QACC,MAAKsB,eAAL,CAAqBkC,KAArB,CAA4B,CAAC,CAAC/C,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAAhD,EACAoD,QAAQ,CAACM,IAAT,CAAc,CAAC,CAACjD,UAAU,CAAC+C,KAAD,CAAV,CAAkBxD,KAApB,CAA4B,CAA5B,CAAgC,CAA9C,EACA,MAlCF,CAoCA,CArCD,EAuCA,MAAO,CAACoD,QAAQ,CAACQ,IAAT,CAAc,SAACC,CAAD,QAAOA,CAAAA,CAAC,GAAK,CAAb,EAAd,CAAR,CACA,C,OAEDF,qB,CAAwB,SAACxD,QAAD,8BAAc,oBAAAb,gBAAgB,CAACa,QAAD,CAAhB,8DAA4B2D,EAA5B,IAAmC,CAAjD,E,OAExB5B,sB,CAAyB,UAAM,CAC9B,MAAKd,QAAL,CAAc,CACbV,yBAAyB,CAAE,KADd,CAAd,EAGA,C,OAEDwC,qB,CAAwB,UAAM,CAC7B,MAAK9B,QAAL,CAAc,CACbV,yBAAyB,CAAE,IADd,CAAd,EAGA,C,OAEDqD,4B,CAA+B,UAAM,CACpC,MAAK3C,QAAL,CAAc,CACbR,+BAA+B,CAAE,KADpB,CAAd,EAGA,C,OAEDoD,2B,CAA8B,UAAM,CACnC,MAAK5C,QAAL,CAAc,CACbR,+BAA+B,CAAE,IADpB,CAAd,EAGA,C,OAEDqD,2B,CAA8B,SAACjE,KAAD,CAAW,CACxC,MAAK+D,4BAAL,GACA,MAAK3C,QAAL,CAAc,CACbT,mBAAmB,CAAEX,KADR,CAAd,EAGA,C,OAEDkE,Y,CAAe,UAAM,CACpB,MAAK9C,QAAL,CAAc,CACbT,mBAAmB,CAAE,CAAC,MAAKH,KAAL,CAAWG,mBADpB,CAAd,EAGA,C,OAEDgB,Q,CAAW,SAACb,IAAD,CAAOC,OAAP,QAAmB,OAAKK,QAAL,CAAc,CAAEP,YAAY,CAAE,CAAEC,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAPA,OAAR,CAAhB,CAAd,CAAnB,E,OACX4B,U,CAAa,iBAAM,OAAKvB,QAAL,CAAc,CAAEP,YAAY,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAYC,OAAO,CAAE,EAArB,CAAhB,CAAd,CAAN,E,OAEbgB,S,CAAY,iBAAM,OAAKX,QAAL,CAAc,CAAEX,UAAU,CAAEX,gBAAd,CAAgCa,mBAAmB,CAAE,KAArD,CAAd,CAAN,E,yDAEZ,iBAAS,CACR,gBAMI,KAAKH,KANT,oCACCC,UADD,CACeV,YADf,wBACeA,YADf,CAC6BI,QAD7B,wBAC6BA,QAD7B,CACuCC,eADvC,wBACuCA,eADvC,CACwDC,SADxD,wBACwDA,SADxD,CACmEC,OADnE,wBACmEA,OADnE,CAECI,yBAFD,aAECA,yBAFD,CAGCC,mBAHD,aAGCA,mBAHD,CAICC,+BAJD,aAICA,+BAJD,CAKCC,YALD,aAKCA,YALD,CAOA,GACCW,CAAAA,eADD,CAQI,IARJ,CACCA,eADD,CAECiB,QAFD,CAQI,IARJ,CAECA,QAFD,CAGCP,sBAHD,CAQI,IARJ,CAGCA,sBAHD,CAIC6B,4BAJD,CAQI,IARJ,CAICA,4BAJD,CAKCC,2BALD,CAQI,IARJ,CAKCA,2BALD,CAMCC,2BAND,CAQI,IARJ,CAMCA,2BAND,CAOCC,YAPD,CAQI,IARJ,CAOCA,YAPD,CASA,GAAQtC,CAAAA,OAAR,CAAoBhC,KAApB,CAAQgC,OAAR,CACA,mBACC,aAAK,SAAS,CAAC,WAAf,wBACC,YAAK,SAAS,CAAC,KAAf,uBACC,aAAK,SAAS,CAAC,4BAAf,wBACC,YACC,SAAS,CAAC,2BADX,CAEC,GAAG,CAAEuC,gBAFN,CAGC,GAAG,CAAC,mBAHL,EADD,cAMC,aAND,cAOC,aAAM,UAAU,KAAhB,CAAiB,SAAS,CAAC,OAA3B,CAAmC,QAAQ,CAAE1B,QAA7C,uBACC,YAAK,SAAS,CAAC,UAAf,uBACC,aAAK,SAAS,CAAC,kBAAf,WACE5B,YAAY,CAACE,OAAb,eACA,YACC,SAAS,uBAAiBF,YAAY,CAACC,IAA9B,yBADV,CAEC,IAAI,CAAC,OAFN,UAIED,YAAY,CAACE,OAJf,EAFF,cASC,aAAK,SAAS,CAAC,kBAAf,wBACC,cAAO,OAAO,CAAC,WAAf,UAA4Ba,OAAO,CAACwC,IAAR,CAAaC,UAAb,CAAwBC,KAApD,EADD,cAEC,cACC,SAAS,6BACR,CAACjE,SAAS,CAACJ,OAAX,CAAqB,YAArB,CAAoC,EAD5B,CADV,CAIC,IAAI,CAAC,MAJN,CAKC,EAAE,CAAC,WALJ,CAMC,IAAI,CAAC,WANN,CAOC,KAAK,CAAEI,SAAS,CAACL,KAPlB,CAQC,QAAQ,CAAE,KAAKgB,aARhB,CASC,WAAW,CAAEY,OAAO,CAACwC,IAAR,CAAaC,UAAb,CAAwBE,WATtC,CAUC,SAAS,KAVV,CAWC,QAAQ,KAXT,EAFD,CAeE,CAAC,KAAK/D,KAAL,CAAWC,UAAX,CAAsBJ,SAAtB,CAAgCJ,OAAjC,eACA,KAAC,aAAD,EAAe,OAAO,CAAEN,gBAAgB,CAACU,SAAzC,EAhBF,GATD,cA4BC,aAAK,SAAS,CAAC,kBAAf,wBACC,cAAO,OAAO,CAAC,SAAf,UAA0BuB,OAAO,CAACwC,IAAR,CAAaI,SAAb,CAAuBF,KAAjD,EADD,cAEC,cACC,SAAS,6BACR,CAAChE,OAAO,CAACL,OAAT,CAAmB,YAAnB,CAAkC,EAD1B,CADV,CAIC,IAAI,CAAC,MAJN,CAKC,EAAE,CAAC,SALJ,CAMC,IAAI,CAAC,SANN,CAOC,KAAK,CAAEK,OAAO,CAACN,KAPhB,CAQC,WAAW,CAAE4B,OAAO,CAACwC,IAAR,CAAaI,SAAb,CAAuBD,WARrC,CASC,QAAQ,CAAE,KAAKvD,aAThB,CAUC,QAAQ,KAVT,EAFD,CAcE,CAAC,KAAKR,KAAL,CAAWC,UAAX,CAAsBH,OAAtB,CAA8BL,OAA/B,eACA,KAAC,aAAD,EAAe,OAAO,CAAEN,gBAAgB,CAAC8E,QAAzC,EAfF,GA5BD,cA8CC,aAAK,SAAS,CAAC,kBAAf,wBACC,cAAO,OAAO,CAAC,cAAf,UAA+B7C,OAAO,CAACwC,IAAR,CAAaM,KAAb,CAAmBJ,KAAlD,EADD,cAEC,cACC,SAAS,6BACR,CAACvE,YAAY,CAACE,OAAd,EAAyBF,YAAY,CAACG,KAAtC,CACG,YADH,CAEG,EAHK,CADV,CAMC,IAAI,CAAC,OANN,CAOC,EAAE,CAAC,cAPJ,CAQC,IAAI,CAAC,cARN,CASC,KAAK,CAAEH,YAAY,CAACC,KATrB,CAUC,QAAQ,CAAE,KAAKgB,aAVhB,CAWC,WAAW,CAAEY,OAAO,CAACwC,IAAR,CAAaM,KAAb,CAAmBH,WAXjC,CAYC,QAAQ,KAZT,EAFD,CAgBE,CAAC,KAAK/D,KAAL,CAAWC,UAAX,CAAsBV,YAAtB,CAAmCE,OAApC,EACA,CAAC,KAAKO,KAAL,CAAWC,UAAX,CAAsBV,YAAtB,CAAmCG,KADpC,eAEC,KAAC,aAAD,EACC,OAAO,CAAEP,gBAAgB,CAACgF,aAD3B,EAlBH,CAsBE,CAAC,KAAKnE,KAAL,CAAWC,UAAX,CAAsBV,YAAtB,CAAmCE,OAApC,EACA,KAAKO,KAAL,CAAWC,UAAX,CAAsBV,YAAtB,CAAmCG,KADnC,eAEC,KAAC,aAAD,EACC,OAAO,CAAEP,gBAAgB,CAACiF,YAD3B,EAxBH,GA9CD,cA2EC,aAAK,SAAS,CAAC,kBAAf,wBACC,cAAO,OAAO,CAAC,UAAf,UAA2BhD,OAAO,CAACwC,IAAR,CAAaS,QAAb,CAAsBP,KAAjD,EADD,cAEC,cACC,SAAS,6BACR,CAACnE,QAAQ,CAACF,OAAV,EAAqBE,QAAQ,CAACD,KAA9B,CACG,YADH,CAEG,EAHK,CADV,CAMC,IAAI,CAAC,UANN,CAOC,EAAE,CAAC,UAPJ,CAQC,IAAI,CAAC,UARN,CASC,KAAK,CAAEC,QAAQ,CAACH,KATjB,CAUC,QAAQ,CAAE,KAAKgB,aAVhB,CAWC,WAAW,CAAEY,OAAO,CAACwC,IAAR,CAAaS,QAAb,CAAsBN,WAXpC,CAYC,QAAQ,KAZT,EAFD,CAgBE,CAAC,KAAK/D,KAAL,CAAWC,UAAX,CAAsBN,QAAtB,CAA+BF,OAAhC,eACA,KAAC,aAAD,EACC,OAAO,CAAEN,gBAAgB,CAACmF,aAD3B,EAjBF,CAqBE,KAAKtE,KAAL,CAAWC,UAAX,CAAsBN,QAAtB,CAA+BD,KAA/B,eACA,KAAC,aAAD,EACC,OAAO,CAAEP,gBAAgB,CAACoF,oBAD3B,EAtBF,GA3ED,cAsGC,aAAK,SAAS,CAAC,kBAAf,wBACC,cAAO,OAAO,CAAC,iBAAf,UAAkCnD,OAAO,CAACwC,IAAR,CAAaY,gBAAb,CAA8BV,KAAhE,EADD,cAEC,cACC,SAAS,6BACR,CAAClE,eAAe,CAACH,OAAjB,EAA4BG,eAAe,CAACF,KAA5C,CACG,YADH,CAEG,EAHK,CADV,CAMC,IAAI,CAAC,UANN,CAOC,EAAE,CAAC,iBAPJ,CAQC,IAAI,CAAC,iBARN,CASC,KAAK,CAAEE,eAAe,CAACJ,KATxB,CAUC,QAAQ,CAAE,KAAKgB,aAVhB,CAWC,WAAW,CAAEY,OAAO,CAACwC,IAAR,CAAaY,gBAAb,CAA8BT,WAX5C,CAYC,QAAQ,KAZT,EAFD,CAgBE,CAAC,KAAK/D,KAAL,CAAWC,UAAX,CAAsBL,eAAtB,CAAsCH,OAAvC,eACA,KAAC,aAAD,EACC,OAAO,CAAEN,gBAAgB,CAACsF,qBAD3B,EAjBF,CAqBE,KAAKzE,KAAL,CAAWC,UAAX,CAAsBL,eAAtB,CAAsCF,KAAtC,eACA,KAAC,aAAD,EACC,OAAO,CAAEP,gBAAgB,CAACuF,aAD3B,EAtBF,GAtGD,cAiIC,KAAC,kBAAD,EACC,YAAY,CAAEhB,YADf,CAEC,mBAAmB,CAAEvD,mBAFtB,CAGC,2BAA2B,CAAEqD,2BAH9B,EAjID,cAsIC,KAAC,MAAD,EACC,IAAI,CAAC,QADN,CAEC,IAAI,CAAEnE,OAAO,CAAC+B,OAFf,CAGC,QAAQ,CAAE,CAACjB,mBAHZ,EAtID,GADD,EADD,EAPD,GADD,EADD,cA2JC,KAAC,iBAAD,EACC,yBAAyB,CAAED,yBAD5B,CAEC,sBAAsB,CAAEwB,sBAFzB,CAGC,eAAe,CAAEV,eAHlB,EA3JD,cAgKC,KAAC,uBAAD,EACC,MAAM,CAAEZ,+BADT,CAEC,UAAU,CAAEmD,4BAFb,CAGC,uBAAuB,CAAEE,2BAH1B,EAhKD,GADD,CAwKA,C,qBArYmC/E,S,SAAhBqB,O","sourcesContent":["import React, { Component } from 'react';\nimport * as fetches from './fetches';\nimport ConfirmationPopup from './components/ConfirmationPopup';\nimport TermsAndConditionsPopup from './components/TermsAndConditionsPopup/TermsAndConditionsPopup';\nimport { passwordStrength } from 'check-password-strength';\nimport PeerformanceLogo from '../assets/peerformance_logo.svg';\nimport validator from 'email-syntax-validator';\nimport TermsAndConditions from './components/TermsAndConditions';\nimport Button from '../components/Button';\nimport InputFeedback from '../components/InputFeedback';\nimport { feedbackMessages } from './constants';\nimport { PAGES, BUTTONS } from '../constants/en';\n\nconst initialFormState = {\n\temailAddress: {\n\t\tvalue: '',\n\t\tisValid: true,\n\t\terror: false,\n\t},\n\tpassword: {\n\t\tvalue: '',\n\t\tisValid: true,\n\t\terror: false,\n\t},\n\tconfirmPassword: {\n\t\tvalue: '',\n\t\tisValid: true,\n\t\terror: false,\n\t},\n\tfirstName: {\n\t\tvalue: '',\n\t\tisValid: true,\n\t},\n\tsurname: {\n\t\tvalue: '',\n\t\tisValid: true,\n\t},\n};\n\nexport default class Signup2 extends Component {\n\tstate = {\n\t\tinputsForm: initialFormState,\n\t\tisConfirmationPopupOpened: false,\n\t\tconditionsAreAgreed: false,\n\t\tisTermsAndConditionsPopupOpened: false,\n\t\talertMessage: { type: '', message: '' },\n\t};\n\n\tsetInputValue = (e) => {\n\t\tconst { name, value } = e.target;\n\t\tthis.setState((prevState) => ({\n\t\t\t...prevState,\n\t\t\tinputsForm: {\n\t\t\t\t...prevState.inputsForm,\n\t\t\t\t[name]: {\n\t\t\t\t\t...prevState.inputsForm[name],\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tisValid: !!value,\n\t\t\t\t},\n\t\t\t},\n\t\t}));\n\t};\n\n\tsetInvalidField = (fieldName, value, error) => {\n\t\tthis.setState((prevState) => {\n\t\t\treturn {\n\t\t\t\t...prevState,\n\t\t\t\tinputsForm: {\n\t\t\t\t\t...prevState.inputsForm,\n\t\t\t\t\t[fieldName]: {\n\t\t\t\t\t\t...prevState.inputsForm[fieldName],\n\t\t\t\t\t\tisValid: value,\n\t\t\t\t\t\terror,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t\t});\n\t};\n\n\tregisterAccount = async () => {\n\t\tconst {\n\t\t\tinputsForm: { emailAddress, password, firstName, surname },\n\t\t} = this.state;\n\t\ttry {\n\t\t\tconst response = await fetches.signUp(\n\t\t\t\temailAddress.value,\n\t\t\t\tpassword.value,\n\t\t\t\tfirstName.value,\n\t\t\t\tsurname.value\n\t\t\t);\n\t\t\tif (response) {\n\t\t\t\tthis.setAlert('success', PAGES.SIGN_UP.MESSAGES.CREATED_ACCOUNT);\n\t\t\t\tthis.clearForm();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error.response) {\n\t\t\t\tconsole.log(`error`, error.response);\n\t\t\t}\n\t\t} finally {\n\t\t\tthis.closeConfirmationPopup();\n\t\t}\n\t};\n\n\tcheckAccount = async () => {\n\t\tconst {\n\t\t\tinputsForm: {\n\t\t\t\temailAddress: { value },\n\t\t\t},\n\t\t} = this.state;\n\t\tconst response = await fetches.checkAccount(value);\n\t\treturn response && response.data ? response.data : null;\n\t};\n\n\trefreshTokenMessage = () => (\n\t\t<p>\n\t\t\tUser activation in progress.\n\t\t\t<br />\n\t\t\tPlease check your e-mail or click this link to regenerate process:&nbsp;\n\t\t\t<span\n\t\t\t\tclassName='text-decoration-underline text-primary c-pointer'\n\t\t\t\tonClick={this.handleRefreshToken}\n\t\t\t>\n\t\t\t\tlink\n\t\t\t</span>\n\t\t</p>\n\t);\n\n\thandleRefreshToken = async () => {\n\t\tawait fetches.refreshToken(this.state.inputsForm.emailAddress.value);\n\t\tthis.setAlert('success', PAGES.SIGN_UP.MESSAGES.EMAIL_SENT);\n\t};\n\n\tonSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tthis.clearAlert();\n\t\tif (this.checkFormIsValid()) {\n\t\t\tconst accountInfo = await this.checkAccount();\n\n\t\t\tif (accountInfo && accountInfo.userExists) {\n\t\t\t\tthis.setAlert('danger', PAGES.SIGN_UP.MESSAGES.ACCOUNT_EXIST);\n\t\t\t} else if (accountInfo.userActivationInProgress) {\n\t\t\t\tthis.setAlert('warning', this.refreshTokenMessage());\n\t\t\t} else if (accountInfo.domainInOrganization) {\n\t\t\t\tthis.openConfirmationPopup();\n\t\t\t} else {\n\t\t\t\tthis.registerAccount();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.setAlert('danger', PAGES.SIGN_UP.MESSAGES.FILL_REQUIRED_FIELDS);\n\t\t}\n\t};\n\n\tcheckFormIsValid = () => {\n\t\tconst { inputsForm } = this.state;\n\t\tconst hasError = [];\n\n\t\tObject.keys(inputsForm).forEach((field) => {\n\t\t\tswitch (field) {\n\t\t\t\tcase 'emailAddress':\n\t\t\t\t\tif (inputsForm[field].value && !validator.validate(inputsForm[field].value)) {\n\t\t\t\t\t\tthis.setInvalidField(field, false, true);\n\t\t\t\t\t\thasError.push(1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setInvalidField(field, !!inputsForm[field].value, false);\n\t\t\t\t\t\thasError.push(!!inputsForm[field].value ? 0 : 1);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'password':\n\t\t\t\t\tif (\n\t\t\t\t\t\tinputsForm[field].value &&\n\t\t\t\t\t\t!this.checkPasswordStrength(inputsForm[field].value)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.setInvalidField(field, !!inputsForm[field].value, true);\n\t\t\t\t\t\thasError.push(1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setInvalidField(field, !!inputsForm[field].value, false);\n\t\t\t\t\t\thasError.push(!!inputsForm[field].value ? 0 : 1);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'confirmPassword':\n\t\t\t\t\tif (inputsForm[field].value !== inputsForm.password.value) {\n\t\t\t\t\t\tthis.setInvalidField(field, !!inputsForm[field].value, true);\n\t\t\t\t\t\thasError.push(1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setInvalidField(field, !!inputsForm[field].value, false);\n\t\t\t\t\t\thasError.push(!!inputsForm[field].value ? 0 : 1);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.setInvalidField(field, !!inputsForm[field].value);\n\t\t\t\t\thasError.push(!!inputsForm[field].value ? 0 : 1);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\treturn !hasError.some((i) => i === 1);\n\t};\n\n\tcheckPasswordStrength = (password) => passwordStrength(password)?.id === 3;\n\n\tcloseConfirmationPopup = () => {\n\t\tthis.setState({\n\t\t\tisConfirmationPopupOpened: false,\n\t\t});\n\t};\n\n\topenConfirmationPopup = () => {\n\t\tthis.setState({\n\t\t\tisConfirmationPopupOpened: true,\n\t\t});\n\t};\n\n\tcloseTermsAndConditionsPopup = () => {\n\t\tthis.setState({\n\t\t\tisTermsAndConditionsPopupOpened: false,\n\t\t});\n\t};\n\n\topenTermsAndConditionsPopup = () => {\n\t\tthis.setState({\n\t\t\tisTermsAndConditionsPopupOpened: true,\n\t\t});\n\t};\n\n\tagreedOrDisagreedConditions = (value) => {\n\t\tthis.closeTermsAndConditionsPopup();\n\t\tthis.setState({\n\t\t\tconditionsAreAgreed: value,\n\t\t});\n\t};\n\n\tswitchAgreed = () => {\n\t\tthis.setState({\n\t\t\tconditionsAreAgreed: !this.state.conditionsAreAgreed,\n\t\t});\n\t};\n\n\tsetAlert = (type, message) => this.setState({ alertMessage: { type, message } });\n\tclearAlert = () => this.setState({ alertMessage: { type: '', message: '' } });\n\n\tclearForm = () => this.setState({ inputsForm: initialFormState, conditionsAreAgreed: false });\n\n\trender() {\n\t\tconst {\n\t\t\tinputsForm: { emailAddress, password, confirmPassword, firstName, surname },\n\t\t\tisConfirmationPopupOpened,\n\t\t\tconditionsAreAgreed,\n\t\t\tisTermsAndConditionsPopupOpened,\n\t\t\talertMessage,\n\t\t} = this.state;\n\t\tconst {\n\t\t\tregisterAccount,\n\t\t\tonSubmit,\n\t\t\tcloseConfirmationPopup,\n\t\t\tcloseTermsAndConditionsPopup,\n\t\t\topenTermsAndConditionsPopup,\n\t\t\tagreedOrDisagreedConditions,\n\t\t\tswitchAgreed,\n\t\t} = this;\n\t\tconst { SIGN_UP } = PAGES;\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-md-5 col-sm-12 mx-auto'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName='w-50 mx-auto d-block mt-5'\n\t\t\t\t\t\t\tsrc={PeerformanceLogo}\n\t\t\t\t\t\t\talt='Peerformance Logo'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<form noValidate className='w-100' onSubmit={onSubmit}>\n\t\t\t\t\t\t\t<div className='row mt-3'>\n\t\t\t\t\t\t\t\t<div className='group-inputs p-3'>\n\t\t\t\t\t\t\t\t\t{alertMessage.message && (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={`alert alert-${alertMessage.type} notification-message`}\n\t\t\t\t\t\t\t\t\t\t\trole='alert'\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{alertMessage.message}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div className='group-input mt-2'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='firstName'>{SIGN_UP.FORM.FIRST_NAME.LABEL}</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control mt-2 ${\n\t\t\t\t\t\t\t\t\t\t\t\t!firstName.isValid ? 'is-invalid' : ''\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tid='firstName'\n\t\t\t\t\t\t\t\t\t\t\tname='firstName'\n\t\t\t\t\t\t\t\t\t\t\tvalue={firstName.value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.setInputValue}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={SIGN_UP.FORM.FIRST_NAME.PLACEHOLDER}\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{!this.state.inputsForm.firstName.isValid && (\n\t\t\t\t\t\t\t\t\t\t\t<InputFeedback message={feedbackMessages.firstName} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='group-input mt-3'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='surname'>{SIGN_UP.FORM.LAST_NAME.LABEL}</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control mt-2 ${\n\t\t\t\t\t\t\t\t\t\t\t\t!surname.isValid ? 'is-invalid' : ''\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\tid='surname'\n\t\t\t\t\t\t\t\t\t\t\tname='surname'\n\t\t\t\t\t\t\t\t\t\t\tvalue={surname.value}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={SIGN_UP.FORM.LAST_NAME.PLACEHOLDER}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.setInputValue}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{!this.state.inputsForm.surname.isValid && (\n\t\t\t\t\t\t\t\t\t\t\t<InputFeedback message={feedbackMessages.lastName} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='group-input mt-3'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='emailAddress'>{SIGN_UP.FORM.EMAIL.LABEL}</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control mt-2 ${\n\t\t\t\t\t\t\t\t\t\t\t\t!emailAddress.isValid || emailAddress.error\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'is-invalid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\t\tid='emailAddress'\n\t\t\t\t\t\t\t\t\t\t\tname='emailAddress'\n\t\t\t\t\t\t\t\t\t\t\tvalue={emailAddress.value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.setInputValue}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={SIGN_UP.FORM.EMAIL.PLACEHOLDER}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{!this.state.inputsForm.emailAddress.isValid &&\n\t\t\t\t\t\t\t\t\t\t\t!this.state.inputsForm.emailAddress.error && (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputFeedback\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage={feedbackMessages.emailRequired}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{!this.state.inputsForm.emailAddress.isValid &&\n\t\t\t\t\t\t\t\t\t\t\tthis.state.inputsForm.emailAddress.error && (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputFeedback\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage={feedbackMessages.invalidEmail}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='group-input mt-3'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password'>{SIGN_UP.FORM.PASSWORD.LABEL}</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control mt-2 ${\n\t\t\t\t\t\t\t\t\t\t\t\t!password.isValid || password.error\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'is-invalid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\t\tvalue={password.value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.setInputValue}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={SIGN_UP.FORM.PASSWORD.PLACEHOLDER}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{!this.state.inputsForm.password.isValid && (\n\t\t\t\t\t\t\t\t\t\t\t<InputFeedback\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={feedbackMessages.emptyPassword}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{this.state.inputsForm.password.error && (\n\t\t\t\t\t\t\t\t\t\t\t<InputFeedback\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={feedbackMessages.passwordRequirements}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='group-input mt-3'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='confirmPassword'>{SIGN_UP.FORM.CONFIRM_PASSWORD.LABEL}</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control mt-2 ${\n\t\t\t\t\t\t\t\t\t\t\t\t!confirmPassword.isValid || confirmPassword.error\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'is-invalid'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\t\tid='confirmPassword'\n\t\t\t\t\t\t\t\t\t\t\tname='confirmPassword'\n\t\t\t\t\t\t\t\t\t\t\tvalue={confirmPassword.value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.setInputValue}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={SIGN_UP.FORM.CONFIRM_PASSWORD.PLACEHOLDER}\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{!this.state.inputsForm.confirmPassword.isValid && (\n\t\t\t\t\t\t\t\t\t\t\t<InputFeedback\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={feedbackMessages.emptyConnfirmPassword}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{this.state.inputsForm.confirmPassword.error && (\n\t\t\t\t\t\t\t\t\t\t\t<InputFeedback\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={feedbackMessages.samePasswords}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<TermsAndConditions\n\t\t\t\t\t\t\t\t\t\tswitchAgreed={switchAgreed}\n\t\t\t\t\t\t\t\t\t\tconditionsAreAgreed={conditionsAreAgreed}\n\t\t\t\t\t\t\t\t\t\topenTermsAndConditionsPopup={openTermsAndConditionsPopup}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\ttext={BUTTONS.SIGN_UP}\n\t\t\t\t\t\t\t\t\t\tdisabled={!conditionsAreAgreed}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<ConfirmationPopup\n\t\t\t\t\tisConfirmationPopupOpened={isConfirmationPopupOpened}\n\t\t\t\t\tcloseConfirmationPopup={closeConfirmationPopup}\n\t\t\t\t\tregisterAccount={registerAccount}\n\t\t\t\t/>\n\t\t\t\t<TermsAndConditionsPopup\n\t\t\t\t\tisOpen={isTermsAndConditionsPopupOpened}\n\t\t\t\t\tclosePopup={closeTermsAndConditionsPopup}\n\t\t\t\t\tsetAgreeConditionsValue={agreedOrDisagreedConditions}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}