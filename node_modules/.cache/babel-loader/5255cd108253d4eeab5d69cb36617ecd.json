{"ast":null,"code":"import _objectSpread from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/home/mspl/Desktop/peerformance_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Modal}from\"react-bootstrap\";import React,{useState,Fragment}from\"react\";import{useDispatch,useSelector}from'react-redux';import{getRegionChildren,getRegions,getStudies,updateLastPeerGroup,updateLastRegion}from'./store/dashboardActions';import arrowLeft from\"./Styleguide/arrow_left.svg\";import searchIcon from\"./Styleguide/search_icon.svg\";import circleBackground from\"./Styleguide/circle_background.svg\";// import getQuickLinks from \"./Utils/quickLinks\";\nimport urlencode from'urlencode';import Regions from'./Regions';import{peerformanceDarkBlue,peerformanceDarkBlue2,peerformanceBlueButton,peerformanceBackground2,peerformanceListItem,peerformanceGreen,peerformanceDarkGreen,peerformanceBlueText}from\"./colours\";import{fetchPeerGroup,fetchStudyByRegion,fetchTop3Level}from\"./store/dashboardFetches\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _=require('lodash');var searchedSIC=[];var searchedCategory=[];var searchedId=[];var Category=\"Nothing\";Category=JSON.parse(localStorage.getItem('categories'));var dataStringify=JSON.stringify(localStorage.getItem('categories')).replace(/\\\\\"/g,'\"');var tabText=\"Find your peer group\";var customPaddingTop=\"0px\";// This function will hide industry filter and quick links div\nfunction keyWordSearchFn(){var industryFilter=document.getElementById(\"industryFilter\");var keyWordSearch=document.getElementById(\"keyWordSearch\");var quickLinks=document.getElementById(\"quickLinks\");var keyWordSearchBtn=document.getElementById(\"keyWordSearchBtn\");var industryFilterBtn=document.getElementById(\"industryFilterBtn\");var quickLinksBtn=document.getElementById(\"quickLinksBtn\");tabText=\"Change peer group\";if(industryFilter.style.display===\"none\"||quickLinks.style.display===\"none\"){keyWordSearch.style.display=\"block\";industryFilter.style.display=\"none\";quickLinks.style.display=\"none\";keyWordSearchBtn.style.background=peerformanceGreen;document.getElementById(\"keyWordSearchDiv\").style.background=peerformanceGreen;keyWordSearchBtn.style.color=peerformanceBlueText;industryFilterBtn.style.background=peerformanceBlueButton;document.getElementById(\"industryFilterDiv\").style.background=peerformanceBlueButton;industryFilterBtn.style.color=\"white\";quickLinksBtn.style.background=peerformanceBlueButton;document.getElementById(\"quickLinksDiv\").style.background=peerformanceBlueButton;quickLinksBtn.style.color='white';tabText=\"Change peer group\";}else{industryFilter.style.display=\"none\";quickLinks.style.display=\"none\";tabText=\"Change peer group\";}}// This function will hide keyword search and quick links div\nfunction industryFilterFn(){var industryFilter=document.getElementById(\"industryFilter\");var keyWordSearch=document.getElementById(\"keyWordSearch\");var quickLinks=document.getElementById(\"quickLinks\");var keyWordSearchBtn=document.getElementById(\"keyWordSearchBtn\");var industryFilterBtn=document.getElementById(\"industryFilterBtn\");var quickLinksBtn=document.getElementById(\"quickLinksBtn\");if(keyWordSearch.style.display===\"none\"||quickLinks.style.display===\"none\"){industryFilter.style.display=\"block\";quickLinks.style.display=\"none\";keyWordSearch.style.display=\"none\";keyWordSearchBtn.style.background=peerformanceBlueButton;document.getElementById(\"keyWordSearchDiv\").style.background=peerformanceBlueButton;keyWordSearchBtn.style.color='white';industryFilterBtn.style.background=peerformanceGreen;document.getElementById(\"industryFilterDiv\").style.background=peerformanceGreen;industryFilterBtn.style.color=peerformanceBlueText;quickLinksBtn.style.background=peerformanceBlueButton;document.getElementById(\"quickLinksDiv\").style.background=peerformanceBlueButton;quickLinksBtn.style.color='white';}else{industryFilter.style.display=\"none\";quickLinks.style.display=\"none\";}}// This function will hide keyword search and industry div\nfunction quickLinksFn(){var industryFilter=document.getElementById(\"industryFilter\");var keyWordSearch=document.getElementById(\"keyWordSearch\");var quickLinks=document.getElementById(\"quickLinks\");var keyWordSearchBtn=document.getElementById(\"keyWordSearchBtn\");var industryFilterBtn=document.getElementById(\"industryFilterBtn\");var quickLinksBtn=document.getElementById(\"quickLinksBtn\");if(keyWordSearch.style.display===\"none\"||industryFilter.style.display===\"none\"){quickLinks.style.display=\"block\";industryFilter.style.display=\"none\";keyWordSearch.style.display=\"none\";keyWordSearchBtn.style.background=peerformanceBlueButton;document.getElementById(\"keyWordSearchDiv\").style.background=peerformanceBlueButton;keyWordSearchBtn.style.color='white';industryFilterBtn.style.background=peerformanceBlueButton;document.getElementById(\"industryFilterDiv\").style.background=peerformanceBlueButton;industryFilterBtn.style.color='white';quickLinksBtn.style.background=peerformanceGreen;document.getElementById(\"quickLinksDiv\").style.background=peerformanceGreen;quickLinksBtn.style.color=peerformanceBlueText;tabText=\"Change peer group\";}else{industryFilter.style.display=\"none\";quickLinks.style.display=\"none\";tabText=\"Change peer group\";}}function BrowseCategory(props){var dispatch=useDispatch();var cards=[];var row=[];var results=getLevel1_Elements();var _useState=useState(results),_useState2=_slicedToArray(_useState,2),children=_useState2[0],setChildren=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),previousTitle=_useState4[0],setPreviousTitle=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),previousKeys=_useState6[0],setPreviousKeys=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),level6Style=_useState8[0],setLevel6Style=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),searchResults=_useState10[0],setSearchResults=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),selectedLevel6=_useState12[0],setSelectedLevel6=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),regionModalShow=_useState14[0],setRegionModalShow=_useState14[1];var _useState15=useState(sessionStorage.getItem(\"fetchedLevel4SIC\")),_useState16=_slicedToArray(_useState15,2),getLevel4_5Parent=_useState16[0],setLevel4_5Parent=_useState16[1];var _useState17=useState(sessionStorage.getItem(\"fetchedLevel6SIC\")),_useState18=_slicedToArray(_useState17,2),getLevel6Parent=_useState18[0],setLevel6Parent=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),getLevel4_5txt=_useState20[0],setLevel4_5txt=_useState20[1];var regionId=sessionStorage.getItem(\"regionId\");var getUserId=JSON.parse(sessionStorage.getItem(\"user\"));getUserId=JSON.stringify(getUserId.userId);// Search\nfunction checkLevel(SICCode,ID){var sic_Code_splitter=SICCode.split(\".\");//alert(\"sic_Code_splitter:\" + sic_Code_splitter)\n// alert(\"id:\" + ID)\nif(sic_Code_splitter.length===6){return SICCode;}if(sic_Code_splitter.length<=5){industryFilterFn();return sic_Code_splitter.length;}}var _useState21=useState(\"e.g. recruitment\"),_useState22=_slicedToArray(_useState21,2),searchPlaceholder=_useState22[0],setSearchPlaceholder=_useState22[1];// get all regions\nvar regions=useSelector(function(state){return state.dashboard.regions;});window.localStorage.setItem(\"regions\",JSON.stringify(regions));function getLevel1_Elements(){var level1=[];var myObj=new Object();Object.keys(Category).map(function(val,k){var theValue=Category[val];myObj=_defineProperty({},theValue.SIC,{\"SIC\":theValue.SIC,\"Category\":theValue.Category,\"ID\":theValue.ID});level1.push(myObj);});var result=_.extend.apply(null,level1);return result;}function SICCodeSorter(SICCode){var sic_Code_splitter=SICCode.split(\".\");var changePeerGroup=\"Change peer group\";customPaddingTop=\"0px\";// level 1\nif(sic_Code_splitter.length===1){customPaddingTop=\"20px\";tabText=changePeerGroup;setPreviousTitle(Category[SICCode].Category);setPreviousKeys(\"\");// get previous keys\nreturn Category[SICCode];}// level 2\nif(sic_Code_splitter.length===2){customPaddingTop=\"20px\";tabText=changePeerGroup;var level1=sic_Code_splitter[0];var level2=sic_Code_splitter[0]+'.'+sic_Code_splitter[1];setPreviousTitle(Category[level1][level2].Category);setPreviousKeys(level1);// get previous keys\nreturn Category[level1][level2];}// level 3\nif(sic_Code_splitter.length===3){customPaddingTop=\"20px\";tabText=changePeerGroup;var _level=sic_Code_splitter[0];var _level2=sic_Code_splitter[0]+'.'+sic_Code_splitter[1];var level3=sic_Code_splitter[0]+'.'+sic_Code_splitter[1]+'.'+sic_Code_splitter[2];setPreviousTitle(Category[_level][_level2][level3].Category);setPreviousKeys(_level2);// get previous keys\nreturn Category[_level][_level2][level3];}// level 4\nif(sic_Code_splitter.length===4){customPaddingTop=\"20px\";tabText=changePeerGroup;var _level3=sic_Code_splitter[0];var _level4=sic_Code_splitter[0]+'.'+sic_Code_splitter[1];var _level5=sic_Code_splitter[0]+'.'+sic_Code_splitter[1]+'.'+sic_Code_splitter[2];var level4=sic_Code_splitter[0]+'.'+sic_Code_splitter[1]+'.'+sic_Code_splitter[2]+'.'+sic_Code_splitter[3];setPreviousTitle(Category[_level3][_level4][_level5][level4].Category);setPreviousKeys(_level5);// get previous keys\nreturn Category[_level3][_level4][_level5][level4];}// level 5\nif(sic_Code_splitter.length===5){customPaddingTop=\"20px\";tabText=changePeerGroup;var _level6=sic_Code_splitter[0];var _level7=sic_Code_splitter[0]+'.'+sic_Code_splitter[1];var _level8=sic_Code_splitter[0]+'.'+sic_Code_splitter[1]+'.'+sic_Code_splitter[2];var _level9=sic_Code_splitter[0]+'.'+sic_Code_splitter[1]+'.'+sic_Code_splitter[2]+'.'+sic_Code_splitter[3];var level5=sic_Code_splitter[0]+'.'+sic_Code_splitter[1]+'.'+sic_Code_splitter[2]+'.'+sic_Code_splitter[3]+'.'+sic_Code_splitter[4];setPreviousTitle(Category[_level6][_level7][_level8][_level9][level5].Category);setPreviousKeys(_level9);// get previous keys\nreturn Category[_level6][_level7][_level8][_level9][level5];}}function goBack(){if(previousKeys===null){setPreviousTitle(null);setChildren(results);tabText=\"Find your peer group \";}if(previousKeys!==null&&previousKeys.length>=1){getChild(previousKeys);}if(previousKeys!==null&&previousKeys.length<=0){setPreviousTitle(null);setChildren(results);tabText=\"Find your peer group\";}}function getChild(SICCode){var children=[];var myObj={};if(SICCode&&SICCode.split(\".\").length<=5){var counter=0;// Counter Flag\nfor(var _i=0,_Object$entries=Object.entries(SICCodeSorter(SICCode));_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];myObj=_defineProperty({},value.SIC,{\"SIC\":value.SIC,\"Category\":value.Category,\"key\":key,\"ID\":value.ID});if(counter===0&&value.SIC){var level=value.SIC.split(\".\").length;counter=1;if(level===6){// setLevel6Style(\"pink\")\n}else{// setLevel6Style(\"\")\n}}children.push(myObj);}var result=_.extend.apply(null,children);setChildren(result);}}// Industry filter\nvar listClicked=function listClicked(e,peerGroupID){// if (getLevel4_5Parent) {\n//     getChild(getLevel4_5Parent)\n// } else {\nvar searchId=e.target.id;getChild(searchId);var level=searchId.split(\".\").length;var level6txt;if(document.getElementById(\"selectedLevel5\")){setLevel4_5txt(document.getElementById(\"selectedLevel5\").innerText);}if(level===4||level===5){fetchTop3Level();// fetch all regions\ndispatch(getRegions());// set level 5 title\nsetLevel4_5txt(e.target.textContent);if(!e.target.textContent){if(document.getElementById(\"selectedLevel5\")){setLevel4_5txt(document.getElementById(\"selectedLevel5\").innerText);}}}if(level===6){var leve5Txt=document.getElementById(\"selectedLevel5\").innerText;e.target.style.color=peerformanceGreen;setSelectedLevel6(searchId);level6txt=e.target.textContent;sessionStorage.setItem(\"peerGroupId\",peerGroupID);dispatch(updateLastPeerGroup(peerGroupID));// send an update to the database\n// Set the peer group that the user last selected\nlocalStorage.setItem(\"lastSelectedPeerGroup\",peerGroupID);sessionStorage.setItem(\"fetchedLevel4\",leve5Txt);// fine\nsessionStorage.setItem(\"fetchedLevel6\",level6txt);// fine\n// getting the region id from session storage\nvar getRegionFromStore=sessionStorage.getItem(\"regionId\");dispatch(getStudies(peerGroupID,getRegionFromStore));if(regionId===null||regionId===undefined||regionId.length<=0){setRegionModalShow(true);}else{if(document.getElementById(\"selectedLevel5\")){// alert(\"we are here:\" + document.getElementById(\"selectedLevel5\").innerText)\nif(document.getElementById(\"level5Text\")){document.getElementById(\"level5Text\").innerText=leve5Txt;}window.location.reload();}props.onHide();}}};// Search function\nfunction searchForString(){var userInput=document.getElementById(\"searchBox\").value;userInput=userInput.replace(\"\\\\\",\"\\\\\\\\\");userInput=userInput.replace(\"(\",\"\\\\(\");userInput=userInput.replace(\")\",\"\\\\)\");userInput=userInput.replace(\".\",\"\\\\.\");userInput=userInput.replace(\"/\",\"\\\\/\");if(userInput.length>0){searchedSIC=[];searchedCategory=[];searchedId=[];// TODO: Add enter functions\nvar regex=new RegExp(\"\\\"ID\\\":(?<id>[0-9]+),\\\"SIC\\\":\\\"(?<sic>[A-Z]\\\\.[0-9]+\\\\.[0-9]+\\\\.[0-9]+(?:\\\\.[0-9]+){0,2})\\\",\"+\"\\\"Category\\\":\\\"(?<category>[a-zA-Z0-9 ,;\\\\/\\\\(\\\\)\\\\.-]*\"+userInput+\"[a-zA-Z0-9 ,;\\\\/\\\\(\\\\)\\\\.-]*)\\\"\",\"ig\");var output;while(output=regex.exec(dataStringify)){searchedSIC.push(output.groups.sic);searchedCategory.push(output.groups.category);searchedId.push(output.groups.id);//searchedId.push(16775); // TODO - This is hard coded\n}// Setting the first element within the results list to contain a background and boarder\nif(document.getElementById(\"parentResults\")){document.getElementById(\"parentResults\").style.backgroundColor=peerformanceListItem;}setSearchResults(searchedCategory);}}function searchListClicked(e){var searchID=e.target.id;var peerGroupID=e.target.getAttribute(\"peerGroupID\");var length=checkLevel(searchedSIC[searchID],searchedId[searchID]);if(length!==6&&typeof length===\"number\"){getChild(searchedSIC[searchID]);}else{// getChild(length);\nif(sessionStorage.getItem(\"regionId\")){// getting the region id from session storage\nvar getRegionFromStore=sessionStorage.getItem(\"regionId\");dispatch(updateLastPeerGroup(peerGroupID));dispatch(getStudies(peerGroupID,getRegionFromStore));// // Set title\nwindow.localStorage.setItem(\"selectedLevel6Id\",peerGroupID);// store the last level 5 element that was selected\nwindow.localStorage.setItem(\"selectedLevel5\",document.getElementById(\"selectedLevel5\").innerText);// store the last level 6 element that was selected\nwindow.localStorage.setItem(\"selectedLevel6\",e.target.innerText);if(regionId===null||regionId===undefined||regionId===\"undefined\"||regionId.length<=0){setRegionModalShow(true);}else{fetchPeerGroup(peerGroupID);window.location.reload();// props.onHide();\n}}}}function quickLinks(SIC){getChild(SIC);industryFilterFn();}// Generate cards for quick links\nfunction generateHtml(){cards=[];var quickLinkData=JSON.parse(localStorage.getItem('quickLinks'));var newcard;var counter;var emptyCard=/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\"})})});var _loop=function _loop(i){var logo=urlencode(quickLinkData[i].Icon);logo=\"data:image/svg+xml,\"+logo;console.log(\"Here are here: \",quickLinkData[i].PeerGroupID);newcard=/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{backgroundColor:peerformanceListItem,paddingTop:\"8px\"},children:/*#__PURE__*/_jsxs(\"div\",{type:\"button\",className:\"card-body text-center\",style:{background:peerformanceListItem},id:quickLinkData[i].SIC,onClick:function onClick(){return quickLinks(quickLinkData[i].SIC);},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",left:\"0\",top:\"0\"},children:[/*#__PURE__*/_jsx(\"img\",{src:circleBackground,className:\"quickLinkCircleBackGround\"}),/*#__PURE__*/_jsx(\"img\",{id:\"icon\"+quickLinkData[i].SIC,className:\"quickLinkIcon\",src:logo})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"15px\",color:\"#A5ACCB\"},children:[\" \",quickLinkData[i].Name]})]})}),/*#__PURE__*/_jsx(\"br\",{})]})});counter=1+i;if(counter<=4){console.log(\"counter stage 1:\",counter);console.log(\"counter\",quickLinkData[i].ID);cards.push(/*#__PURE__*/_jsx(Fragment,{children:newcard}));row.push(cards);cards=[];}if(counter>=5&&counter<=8){console.log(\"counter stage 2:\",counter);console.log(\"counter stage 2:\",quickLinkData[i].ID);cards.push(/*#__PURE__*/_jsx(Fragment,{children:newcard}));row.push(cards);cards=[];}if(counter>=9){cards.push(/*#__PURE__*/_jsx(Fragment,{children:newcard}));row.push(cards);cards=[];}};for(var i=0;i<quickLinkData.length;i++){_loop(i);}var difference;if(row.length<4){difference=4-row.length;for(var x=0;x<difference;x++){row.push(emptyCard);}}else if(row.length<8){difference=8-row.length;for(var _x=0;_x<difference;_x++){row.push(emptyCard);}}else if(row.length<12){difference=12-row.length;for(var _x2=0;_x2<difference;_x2++){row.push(emptyCard);}}console.log(row);}generateHtml();function clearSearch(){if(searchResults.length>0){setSearchResults([\"\"]);// Setting the first element within the results list to not contain a background and boarder\ndocument.getElementById(\"parentResults\").style.backgroundColor=\"initial\";document.getElementById(\"parentResults\").style.border=\"initial\";document.getElementById('searchBox').value='';}}window.onclick=function(e){var peerGroupId=e.target.id;if(peerGroupId===\"peerGroupText\"||peerGroupId===\"peerGroupTitle\"||peerGroupId===\"level5Text\"||peerGroupId===\"level6Text\"){if(getLevel4_5Parent){getChild(getLevel4_5Parent);if(getLevel6Parent){if(document.getElementById(getLevel6Parent)){var parentDiv=\"parent\"+getLevel6Parent;document.getElementById(parentDiv).style.background=peerformanceGreen;document.getElementById(parentDiv).style.color=peerformanceBlueText;}}}}};// Search\nreturn/*#__PURE__*/_jsxs(Modal,_objectSpread(_objectSpread({},props),{},{size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,style:{padding:\"70px\"},children:[/*#__PURE__*/_jsx(Regions,{show:regionModalShow,onHide:function onHide(){return setRegionModalShow(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-lg\",style:{backgroundColor:peerformanceDarkBlue,color:\"white\"},children:[/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"col-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{overflow:\"hidden\"},children:[/*#__PURE__*/_jsxs(\"h6\",{style:{float:\"left\"},children:[/*#__PURE__*/_jsx(\"img\",{src:previousKeys!==null?arrowLeft:null,alt:\"\",onClick:goBack}),\" \\xA0 \\xA0 \",tabText]}),/*#__PURE__*/_jsx(\"h6\",{style:{float:\"right\"},onClick:props.onHide,children:\" X \"})]}),/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm card\",style:{backgroundColor:peerformanceGreen,color:peerformanceBlueText},id:\"industryFilterDiv\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn-group me-8\",role:\"group\",\"aria-label\":\"First group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn shadow-none\",id:\"industryFilterBtn\",onClick:industryFilterFn,children:\"Industry filter\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-1\",style:{width:\"4%\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm card\",style:{backgroundColor:peerformanceBlueButton},id:\"keyWordSearchDiv\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Second group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn shadow-none\",id:\"keyWordSearchBtn\",style:{color:\"white\"},onClick:keyWordSearchFn,children:\"Key Word Search\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-1\",style:{width:\"4%\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm card\",style:{backgroundColor:peerformanceBlueButton},id:\"quickLinksDiv\",children:/*#__PURE__*/_jsx(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Third group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn shadow-none\",id:\"quickLinksBtn\",style:{color:\"white\"},onClick:quickLinksFn,children:\"Quick links\"})})})]})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:peerformanceBackground2,paddingLeft:\"10px\",paddingRight:\"20px\",paddingTop:customPaddingTop},children:[/*#__PURE__*/_jsxs(\"div\",{id:\"industryFilter\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-center container\",id:\"selectedLevel5\",style:{color:peerformanceGreen},children:previousTitle}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid overflow-auto\",style:{height:\"500px\",overflowY:\"scroll\",overflow:\"scroll\",scrollBehavior:\"smooth\",scrollbarColor:\"green\"},children:Object.keys(children).map(function(val,k){console.log(\"val\",val);var theValue=children[val];console.log(\"theValue-------\",theValue);var myString='';if(theValue.SIC===selectedLevel6){myString=peerformanceGreen;}if(theValue.Category){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",id:\"parent\"+theValue.SIC,style:{backgroundColor:peerformanceListItem},children:/*#__PURE__*/_jsx(\"onHover\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"h7\",{id:theValue.SIC,onClick:function onClick(e){return listClicked(e,theValue.ID);},style:{background:level6Style,color:myString},children:[\"\\xA0 \",theValue.Category]},theValue.SIC)})})}),/*#__PURE__*/_jsx(\"p\",{})]});}})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"keyWordSearch\",style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\" Search for a category\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid overflow-auto\",style:{height:\"492px\",overflowY:\"scroll\",overflowX:\"scroll\",overflow:\"scroll\",scrollBehavior:\"smooth\",scrollbarColor:\"green\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid overflow-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group col-xs-2 text-center\",children:[/*#__PURE__*/_jsx(\"input\",{style:{background:peerformanceDarkBlue2,paddingTop:\"10px\",paddingBottom:\"10px\",paddingLeft:\"25px\",paddingRight:\"15px\",color:\"white\"},type:\"text\",className:\"form-control\",placeholder:searchPlaceholder,id:\"searchBox\",onKeyPress:function onKeyPress(e){if(e.key===\"Enter\"){searchForString();}},\"aria-label\":\"Username\",\"aria-describedby\":\"basic-addon1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",id:\"basic-addon1\",style:{background:peerformanceDarkGreen},children:/*#__PURE__*/_jsx(\"img\",{id:\"searchIconBtn\",src:searchIcon,alt:\"\",onClick:searchForString})})]}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:clearSearch,children:\" Clear Search \"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2\"})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{id:\"searchResults\",children:searchResults.map(function(result,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{backgroundColor:peerformanceListItem},id:\"parentResults\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",id:searchedId[index],children:/*#__PURE__*/_jsxs(\"h7\",{id:index,peerGroupID:searchedId[index],onClick:searchListClicked,children:[\"\\xA0 \",result]},index)})}),/*#__PURE__*/_jsx(\"p\",{})]});})})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"quickLinks\",style:{display:\"none\"},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\" Quick Links\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid overflow-auto\",style:{height:\"515px\",overflowY:\"scroll\",overflow:\"scroll\",scrollBehavior:\"smooth\",scrollbarColor:\"green\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[row,/*#__PURE__*/_jsx(\"br\",{})]})})]})]})})]}),/*#__PURE__*/_jsx(\"br\",{})]})]}));}export default BrowseCategory;","map":{"version":3,"sources":["/home/mspl/Desktop/peerformance_frontend/src/BrowseCategory.js"],"names":["Button","Modal","React","useState","Fragment","useDispatch","useSelector","getRegionChildren","getRegions","getStudies","updateLastPeerGroup","updateLastRegion","urlencode","Regions","peerformanceDarkBlue","peerformanceDarkBlue2","peerformanceBlueButton","peerformanceBackground2","peerformanceListItem","peerformanceGreen","peerformanceDarkGreen","peerformanceBlueText","fetchPeerGroup","fetchStudyByRegion","fetchTop3Level","_","require","searchedSIC","searchedCategory","searchedId","Category","JSON","parse","localStorage","getItem","dataStringify","stringify","replace","tabText","customPaddingTop","keyWordSearchFn","industryFilter","document","getElementById","keyWordSearch","quickLinks","keyWordSearchBtn","industryFilterBtn","quickLinksBtn","style","display","background","color","industryFilterFn","quickLinksFn","BrowseCategory","props","dispatch","cards","row","results","getLevel1_Elements","children","setChildren","previousTitle","setPreviousTitle","previousKeys","setPreviousKeys","level6Style","setLevel6Style","searchResults","setSearchResults","selectedLevel6","setSelectedLevel6","regionModalShow","setRegionModalShow","sessionStorage","getLevel4_5Parent","setLevel4_5Parent","getLevel6Parent","setLevel6Parent","getLevel4_5txt","setLevel4_5txt","regionId","getUserId","userId","checkLevel","SICCode","ID","sic_Code_splitter","split","length","searchPlaceholder","setSearchPlaceholder","regions","state","dashboard","window","setItem","level1","myObj","Object","keys","map","val","k","theValue","SIC","push","result","extend","apply","SICCodeSorter","changePeerGroup","level2","level3","level4","level5","goBack","getChild","counter","entries","key","value","level","listClicked","e","peerGroupID","searchId","target","id","level6txt","innerText","textContent","leve5Txt","getRegionFromStore","undefined","location","reload","onHide","searchForString","userInput","regex","RegExp","output","exec","groups","sic","category","backgroundColor","searchListClicked","searchID","getAttribute","generateHtml","quickLinkData","newcard","emptyCard","i","logo","Icon","console","log","PeerGroupID","paddingTop","position","left","top","circleBackground","fontSize","Name","difference","x","clearSearch","border","onclick","peerGroupId","parentDiv","padding","overflow","float","arrowLeft","width","paddingLeft","paddingRight","height","overflowY","scrollBehavior","scrollbarColor","myString","overflowX","paddingBottom","searchIcon","index"],"mappings":"2XAAA,OAAQA,MAAR,CAAgBC,KAAhB,KAA4B,iBAA5B,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,QAAzB,KAAwC,OAAxC,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OACIC,iBADJ,CAEIC,UAFJ,CAGIC,UAHJ,CAIIC,mBAJJ,CAKIC,gBALJ,KAMO,0BANP,C,yKAUA;AACA,MAAOC,CAAAA,SAAP,KAAsB,WAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,OACIC,oBADJ,CAEIC,qBAFJ,CAGIC,sBAHJ,CAIIC,uBAJJ,CAKIC,oBALJ,CAMIC,iBANJ,CAOIC,qBAPJ,CAQIC,oBARJ,KASO,WATP,CAUA,OAAQC,cAAR,CAAwBC,kBAAxB,CAA4CC,cAA5C,KAAiE,0BAAjE,C,wFAEA,GAAIC,CAAAA,CAAC,CAAGC,OAAO,CAAC,QAAD,CAAf,CACA,GAAIC,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAIC,CAAAA,gBAAgB,CAAG,EAAvB,CACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CAEA,GAAIC,CAAAA,QAAQ,CAAG,SAAf,CACAA,QAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAX,CAEA,GAAIC,CAAAA,aAAa,CAAGJ,IAAI,CAACK,SAAL,CAAeH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAf,EAAmDG,OAAnD,CAA2D,MAA3D,CAAmE,GAAnE,CAApB,CACA,GAAIC,CAAAA,OAAO,CAAG,sBAAd,CACA,GAAIC,CAAAA,gBAAgB,CAAG,KAAvB,CAGA;AACA,QAASC,CAAAA,eAAT,EAA2B,CACvB,GAAIC,CAAAA,cAAc,CAAGC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAArB,CACA,GAAIC,CAAAA,aAAa,CAAGF,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAApB,CACA,GAAIE,CAAAA,UAAU,CAAGH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAjB,CACA,GAAIG,CAAAA,gBAAgB,CAAGJ,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAvB,CACA,GAAII,CAAAA,iBAAiB,CAAGL,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CAAxB,CACA,GAAIK,CAAAA,aAAa,CAAGN,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAApB,CACAL,OAAO,CAAI,mBAAX,CAGA,GAAIG,cAAc,CAACQ,KAAf,CAAqBC,OAArB,GAAiC,MAAjC,EAA2CL,UAAU,CAACI,KAAX,CAAiBC,OAAjB,GAA6B,MAA5E,CAAoF,CAChFN,aAAa,CAACK,KAAd,CAAoBC,OAApB,CAA8B,OAA9B,CACAT,cAAc,CAACQ,KAAf,CAAqBC,OAArB,CAA+B,MAA/B,CACAL,UAAU,CAACI,KAAX,CAAiBC,OAAjB,CAA2B,MAA3B,CAEAJ,gBAAgB,CAACG,KAAjB,CAAuBE,UAAvB,CAAoChC,iBAApC,CACAuB,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CM,KAA5C,CAAkDE,UAAlD,CAA+DhC,iBAA/D,CACA2B,gBAAgB,CAACG,KAAjB,CAAuBG,KAAvB,CAA+B/B,oBAA/B,CAEA0B,iBAAiB,CAACE,KAAlB,CAAwBE,UAAxB,CAAqCnC,sBAArC,CACA0B,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CM,KAA7C,CAAmDE,UAAnD,CAAgEnC,sBAAhE,CACA+B,iBAAiB,CAACE,KAAlB,CAAwBG,KAAxB,CAAgC,OAAhC,CAEAJ,aAAa,CAACC,KAAd,CAAoBE,UAApB,CAAiCnC,sBAAjC,CACA0B,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCM,KAAzC,CAA+CE,UAA/C,CAA4DnC,sBAA5D,CACAgC,aAAa,CAACC,KAAd,CAAoBG,KAApB,CAA4B,OAA5B,CAEAd,OAAO,CAAI,mBAAX,CAEH,CAnBD,IAmBO,CACHG,cAAc,CAACQ,KAAf,CAAqBC,OAArB,CAA+B,MAA/B,CACAL,UAAU,CAACI,KAAX,CAAiBC,OAAjB,CAA2B,MAA3B,CACAZ,OAAO,CAAI,mBAAX,CACH,CACJ,CAED;AACA,QAASe,CAAAA,gBAAT,EAA4B,CACxB,GAAIZ,CAAAA,cAAc,CAAGC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAArB,CACA,GAAIC,CAAAA,aAAa,CAAGF,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAApB,CACA,GAAIE,CAAAA,UAAU,CAAGH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAjB,CACA,GAAIG,CAAAA,gBAAgB,CAAGJ,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAvB,CACA,GAAII,CAAAA,iBAAiB,CAAGL,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CAAxB,CACA,GAAIK,CAAAA,aAAa,CAAGN,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAApB,CAEA,GAAIC,aAAa,CAACK,KAAd,CAAoBC,OAApB,GAAgC,MAAhC,EAA0CL,UAAU,CAACI,KAAX,CAAiBC,OAAjB,GAA6B,MAA3E,CAAmF,CAC/ET,cAAc,CAACQ,KAAf,CAAqBC,OAArB,CAA+B,OAA/B,CACAL,UAAU,CAACI,KAAX,CAAiBC,OAAjB,CAA2B,MAA3B,CACAN,aAAa,CAACK,KAAd,CAAoBC,OAApB,CAA8B,MAA9B,CAEAJ,gBAAgB,CAACG,KAAjB,CAAuBE,UAAvB,CAAoCnC,sBAApC,CACA0B,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CM,KAA5C,CAAkDE,UAAlD,CAA+DnC,sBAA/D,CACA8B,gBAAgB,CAACG,KAAjB,CAAuBG,KAAvB,CAA+B,OAA/B,CAEAL,iBAAiB,CAACE,KAAlB,CAAwBE,UAAxB,CAAqChC,iBAArC,CACAuB,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CM,KAA7C,CAAmDE,UAAnD,CAAgEhC,iBAAhE,CACA4B,iBAAiB,CAACE,KAAlB,CAAwBG,KAAxB,CAAgC/B,oBAAhC,CAEA2B,aAAa,CAACC,KAAd,CAAoBE,UAApB,CAAiCnC,sBAAjC,CACA0B,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCM,KAAzC,CAA+CE,UAA/C,CAA4DnC,sBAA5D,CACAgC,aAAa,CAACC,KAAd,CAAoBG,KAApB,CAA4B,OAA5B,CAGH,CAlBD,IAkBO,CACHX,cAAc,CAACQ,KAAf,CAAqBC,OAArB,CAA+B,MAA/B,CACAL,UAAU,CAACI,KAAX,CAAiBC,OAAjB,CAA2B,MAA3B,CACH,CACJ,CAED;AACA,QAASI,CAAAA,YAAT,EAAwB,CAEpB,GAAIb,CAAAA,cAAc,CAAGC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAArB,CACA,GAAIC,CAAAA,aAAa,CAAGF,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAApB,CACA,GAAIE,CAAAA,UAAU,CAAGH,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAjB,CACA,GAAIG,CAAAA,gBAAgB,CAAGJ,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAvB,CACA,GAAII,CAAAA,iBAAiB,CAAGL,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,CAAxB,CACA,GAAIK,CAAAA,aAAa,CAAGN,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAApB,CAEA,GAAIC,aAAa,CAACK,KAAd,CAAoBC,OAApB,GAAgC,MAAhC,EAA0CT,cAAc,CAACQ,KAAf,CAAqBC,OAArB,GAAiC,MAA/E,CAAuF,CACnFL,UAAU,CAACI,KAAX,CAAiBC,OAAjB,CAA2B,OAA3B,CACAT,cAAc,CAACQ,KAAf,CAAqBC,OAArB,CAA+B,MAA/B,CACAN,aAAa,CAACK,KAAd,CAAoBC,OAApB,CAA8B,MAA9B,CAEAJ,gBAAgB,CAACG,KAAjB,CAAuBE,UAAvB,CAAoCnC,sBAApC,CACA0B,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CM,KAA5C,CAAkDE,UAAlD,CAA+DnC,sBAA/D,CACA8B,gBAAgB,CAACG,KAAjB,CAAuBG,KAAvB,CAA+B,OAA/B,CAEAL,iBAAiB,CAACE,KAAlB,CAAwBE,UAAxB,CAAqCnC,sBAArC,CACA0B,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CM,KAA7C,CAAmDE,UAAnD,CAAgEnC,sBAAhE,CACA+B,iBAAiB,CAACE,KAAlB,CAAwBG,KAAxB,CAAgC,OAAhC,CAEAJ,aAAa,CAACC,KAAd,CAAoBE,UAApB,CAAiChC,iBAAjC,CACAuB,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCM,KAAzC,CAA+CE,UAA/C,CAA4DhC,iBAA5D,CACA6B,aAAa,CAACC,KAAd,CAAoBG,KAApB,CAA4B/B,oBAA5B,CACAiB,OAAO,CAAI,mBAAX,CACH,CAjBD,IAiBO,CACHG,cAAc,CAACQ,KAAf,CAAqBC,OAArB,CAA+B,MAA/B,CACAL,UAAU,CAACI,KAAX,CAAiBC,OAAjB,CAA2B,MAA3B,CACAZ,OAAO,CAAI,mBAAX,CACH,CACJ,CAED,QAASiB,CAAAA,cAAT,CAAwBC,KAAxB,CAA+B,CAC3B,GAAMC,CAAAA,QAAQ,CAAGpD,WAAW,EAA5B,CACA,GAAIqD,CAAAA,KAAK,CAAG,EAAZ,CACA,GAAIC,CAAAA,GAAG,CAAG,EAAV,CACA,GAAIC,CAAAA,OAAO,CAAGC,kBAAkB,EAAhC,CACA,cAA8B1D,QAAQ,CAACyD,OAAD,CAAtC,wCAAKE,QAAL,eAAeC,WAAf,eACA,eAAwC5D,QAAQ,EAAhD,yCAAK6D,aAAL,eAAoBC,gBAApB,eACA,eAAsC9D,QAAQ,CAAC,IAAD,CAA9C,yCAAK+D,YAAL,eAAmBC,eAAnB,eACA,eAAoChE,QAAQ,EAA5C,yCAAKiE,WAAL,eAAkBC,cAAlB,eACA,eAAwClE,QAAQ,CAAC,EAAD,CAAhD,0CAAKmE,aAAL,gBAAoBC,gBAApB,gBACA,gBAA0CpE,QAAQ,EAAlD,2CAAKqE,cAAL,gBAAqBC,iBAArB,gBACA,gBAA4CtE,QAAQ,CAAC,KAAD,CAApD,2CAAKuE,eAAL,gBAAsBC,kBAAtB,gBACA,gBAA6CxE,QAAQ,CAACyE,cAAc,CAAC1C,OAAf,CAAuB,kBAAvB,CAAD,CAArD,2CAAK2C,iBAAL,gBAAwBC,iBAAxB,gBACA,gBAAyC3E,QAAQ,CAACyE,cAAc,CAAC1C,OAAf,CAAuB,kBAAvB,CAAD,CAAjD,2CAAK6C,eAAL,gBAAsBC,eAAtB,gBACA,gBAAuC7E,QAAQ,CAAC,KAAD,CAA/C,2CAAK8E,cAAL,gBAAqBC,cAArB,gBACA,GAAIC,CAAAA,QAAQ,CAAGP,cAAc,CAAC1C,OAAf,CAAuB,UAAvB,CAAf,CAEA,GAAIkD,CAAAA,SAAS,CAAGrD,IAAI,CAACC,KAAL,CAAW4C,cAAc,CAAC1C,OAAf,CAAuB,MAAvB,CAAX,CAAhB,CACAkD,SAAS,CAAGrD,IAAI,CAACK,SAAL,CAAegD,SAAS,CAACC,MAAzB,CAAZ,CAGA;AACA,QAASC,CAAAA,UAAT,CAAoBC,OAApB,CAA6BC,EAA7B,CAAiC,CAE7B,GAAIC,CAAAA,iBAAiB,CAAGF,OAAO,CAACG,KAAR,CAAc,GAAd,CAAxB,CACA;AACA;AAEA,GAAID,iBAAiB,CAACE,MAAlB,GAA6B,CAAjC,CAAoC,CAChC,MAAOJ,CAAAA,OAAP,CACH,CAED,GAAIE,iBAAiB,CAACE,MAAlB,EAA4B,CAAhC,CAAmC,CAC/BtC,gBAAgB,GAChB,MAAOoC,CAAAA,iBAAiB,CAACE,MAAzB,CACH,CACJ,CAED,gBAAgDxF,QAAQ,CAAC,kBAAD,CAAxD,2CAAKyF,iBAAL,gBAAwBC,oBAAxB,gBAEA;AACA,GAAMC,CAAAA,OAAO,CAAGxF,WAAW,CAAC,SAAAyF,KAAK,CAAI,CACjC,MAAOA,CAAAA,KAAK,CAACC,SAAN,CAAgBF,OAAvB,CACH,CAF0B,CAA3B,CAIAG,MAAM,CAAChE,YAAP,CAAoBiE,OAApB,CAA4B,SAA5B,CAAuCnE,IAAI,CAACK,SAAL,CAAe0D,OAAf,CAAvC,EAEA,QAASjC,CAAAA,kBAAT,EAA8B,CAC1B,GAAIsC,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,MAAJ,EAAZ,CACAA,MAAM,CAACC,IAAP,CAAYxE,QAAZ,EAAsByE,GAAtB,CAA0B,SAACC,GAAD,CAAMC,CAAN,CAAY,CAClC,GAAMC,CAAAA,QAAQ,CAAG5E,QAAQ,CAAC0E,GAAD,CAAzB,CACAJ,KAAK,oBACAM,QAAQ,CAACC,GADT,CACe,CACZ,MAAOD,QAAQ,CAACC,GADJ,CAEZ,WAAYD,QAAQ,CAAC5E,QAFT,CAGZ,KAAM4E,QAAQ,CAAClB,EAHH,CADf,CAAL,CAOAW,MAAM,CAACS,IAAP,CAAYR,KAAZ,EACH,CAVD,EAWA,GAAIS,CAAAA,MAAM,CAAGpF,CAAC,CAACqF,MAAF,CAASC,KAAT,CAAe,IAAf,CAAqBZ,MAArB,CAAb,CACA,MAAOU,CAAAA,MAAP,CACH,CAED,QAASG,CAAAA,aAAT,CAAuBzB,OAAvB,CAAgC,CAC5B,GAAIE,CAAAA,iBAAiB,CAAGF,OAAO,CAACG,KAAR,CAAc,GAAd,CAAxB,CACA,GAAIuB,CAAAA,eAAe,CAAG,mBAAtB,CACA1E,gBAAgB,CAAG,KAAnB,CAGA;AACA,GAAIkD,iBAAiB,CAACE,MAAlB,GAA6B,CAAjC,CAAoC,CAChCpD,gBAAgB,CAAG,MAAnB,CACAD,OAAO,CAAG2E,eAAV,CACAhD,gBAAgB,CAACnC,QAAQ,CAACyD,OAAD,CAAR,CAAkBzD,QAAnB,CAAhB,CACAqC,eAAe,CAAC,EAAD,CAAf,CAAqB;AACrB,MAAOrC,CAAAA,QAAQ,CAACyD,OAAD,CAAf,CACH,CAED;AACA,GAAIE,iBAAiB,CAACE,MAAlB,GAA6B,CAAjC,CAAoC,CAChCpD,gBAAgB,CAAG,MAAnB,CACAD,OAAO,CAAG2E,eAAV,CACA,GAAId,CAAAA,MAAM,CAAGV,iBAAiB,CAAC,CAAD,CAA9B,CACA,GAAIyB,CAAAA,MAAM,CAAGzB,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA3D,CAEAxB,gBAAgB,CAACnC,QAAQ,CAACqE,MAAD,CAAR,CAAiBe,MAAjB,EAAyBpF,QAA1B,CAAhB,CACAqC,eAAe,CAACgC,MAAD,CAAf,CAAyB;AACzB,MAAOrE,CAAAA,QAAQ,CAACqE,MAAD,CAAR,CAAiBe,MAAjB,CAAP,CACH,CAED;AACA,GAAIzB,iBAAiB,CAACE,MAAlB,GAA6B,CAAjC,CAAoC,CAChCpD,gBAAgB,CAAG,MAAnB,CACAD,OAAO,CAAG2E,eAAV,CACA,GAAId,CAAAA,MAAM,CAAGV,iBAAiB,CAAC,CAAD,CAA9B,CACA,GAAIyB,CAAAA,OAAM,CAAGzB,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA3D,CACA,GAAI0B,CAAAA,MAAM,CAAG1B,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA9C,CAAoD,GAApD,CAA0DA,iBAAiB,CAAC,CAAD,CAAxF,CAEAxB,gBAAgB,CAACnC,QAAQ,CAACqE,MAAD,CAAR,CAAiBe,OAAjB,EAAyBC,MAAzB,EAAiCrF,QAAlC,CAAhB,CACAqC,eAAe,CAAC+C,OAAD,CAAf,CAAyB;AACzB,MAAOpF,CAAAA,QAAQ,CAACqE,MAAD,CAAR,CAAiBe,OAAjB,EAAyBC,MAAzB,CAAP,CACH,CAED;AACA,GAAI1B,iBAAiB,CAACE,MAAlB,GAA6B,CAAjC,CAAoC,CAChCpD,gBAAgB,CAAG,MAAnB,CACAD,OAAO,CAAG2E,eAAV,CACA,GAAId,CAAAA,OAAM,CAAGV,iBAAiB,CAAC,CAAD,CAA9B,CACA,GAAIyB,CAAAA,OAAM,CAAGzB,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA3D,CACA,GAAI0B,CAAAA,OAAM,CAAG1B,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA9C,CAAoD,GAApD,CAA0DA,iBAAiB,CAAC,CAAD,CAAxF,CACA,GAAI2B,CAAAA,MAAM,CAAG3B,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA9C,CAAoD,GAApD,CAA0DA,iBAAiB,CAAC,CAAD,CAA3E,CAAiF,GAAjF,CAAuFA,iBAAiB,CAAC,CAAD,CAArH,CAEAxB,gBAAgB,CAACnC,QAAQ,CAACqE,OAAD,CAAR,CAAiBe,OAAjB,EAAyBC,OAAzB,EAAiCC,MAAjC,EAAyCtF,QAA1C,CAAhB,CACAqC,eAAe,CAACgD,OAAD,CAAf,CAAyB;AACzB,MAAOrF,CAAAA,QAAQ,CAACqE,OAAD,CAAR,CAAiBe,OAAjB,EAAyBC,OAAzB,EAAiCC,MAAjC,CAAP,CACH,CAED;AACA,GAAI3B,iBAAiB,CAACE,MAAlB,GAA6B,CAAjC,CAAoC,CAChCpD,gBAAgB,CAAG,MAAnB,CACAD,OAAO,CAAG2E,eAAV,CACA,GAAId,CAAAA,OAAM,CAAGV,iBAAiB,CAAC,CAAD,CAA9B,CACA,GAAIyB,CAAAA,OAAM,CAAGzB,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA3D,CACA,GAAI0B,CAAAA,OAAM,CAAG1B,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA9C,CAAoD,GAApD,CAA0DA,iBAAiB,CAAC,CAAD,CAAxF,CACA,GAAI2B,CAAAA,OAAM,CAAG3B,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA9C,CAAoD,GAApD,CAA0DA,iBAAiB,CAAC,CAAD,CAA3E,CAAiF,GAAjF,CAAuFA,iBAAiB,CAAC,CAAD,CAArH,CACA,GAAI4B,CAAAA,MAAM,CAAG5B,iBAAiB,CAAC,CAAD,CAAjB,CAAuB,GAAvB,CAA6BA,iBAAiB,CAAC,CAAD,CAA9C,CAAoD,GAApD,CAA0DA,iBAAiB,CAAC,CAAD,CAA3E,CAAiF,GAAjF,CAAuFA,iBAAiB,CAAC,CAAD,CAAxG,CAA8G,GAA9G,CAAoHA,iBAAiB,CAAC,CAAD,CAAlJ,CAEAxB,gBAAgB,CAACnC,QAAQ,CAACqE,OAAD,CAAR,CAAiBe,OAAjB,EAAyBC,OAAzB,EAAiCC,OAAjC,EAAyCC,MAAzC,EAAiDvF,QAAlD,CAAhB,CAEAqC,eAAe,CAACiD,OAAD,CAAf,CAAyB;AACzB,MAAOtF,CAAAA,QAAQ,CAACqE,OAAD,CAAR,CAAiBe,OAAjB,EAAyBC,OAAzB,EAAiCC,OAAjC,EAAyCC,MAAzC,CAAP,CACH,CACJ,CAED,QAASC,CAAAA,MAAT,EAAkB,CACd,GAAIpD,YAAY,GAAK,IAArB,CAA2B,CACvBD,gBAAgB,CAAC,IAAD,CAAhB,CACAF,WAAW,CAACH,OAAD,CAAX,CACAtB,OAAO,CAAI,uBAAX,CACH,CACD,GAAI4B,YAAY,GAAK,IAAjB,EAAyBA,YAAY,CAACyB,MAAb,EAAuB,CAApD,CAAuD,CACnD4B,QAAQ,CAACrD,YAAD,CAAR,CACH,CACD,GAAIA,YAAY,GAAK,IAAjB,EAAyBA,YAAY,CAACyB,MAAb,EAAuB,CAApD,CAAuD,CACnD1B,gBAAgB,CAAC,IAAD,CAAhB,CACAF,WAAW,CAACH,OAAD,CAAX,CACAtB,OAAO,CAAI,sBAAX,CACH,CACJ,CAED,QAASiF,CAAAA,QAAT,CAAkBhC,OAAlB,CAA2B,CACvB,GAAIzB,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIsC,CAAAA,KAAK,CAAG,EAAZ,CAEA,GAAIb,OAAO,EAAIA,OAAO,CAACG,KAAR,CAAc,GAAd,EAAmBC,MAAnB,EAA6B,CAA5C,CAA+C,CAC3C,GAAI6B,CAAAA,OAAO,CAAG,CAAd,CAAiB;AAEjB,6BAA2BnB,MAAM,CAACoB,OAAP,CAAeT,aAAa,CAACzB,OAAD,CAA5B,CAA3B,gCAAmE,CAA9D,6DAAOmC,GAAP,uBAAYC,KAAZ,uBACDvB,KAAK,oBACAuB,KAAK,CAAChB,GADN,CACY,CACT,MAAOgB,KAAK,CAAChB,GADJ,CAET,WAAYgB,KAAK,CAAC7F,QAFT,CAGT,MAAO4F,GAHE,CAIT,KAAMC,KAAK,CAACnC,EAJH,CADZ,CAAL,CAQA,GAAIgC,OAAO,GAAK,CAAZ,EAAiBG,KAAK,CAAChB,GAA3B,CAAgC,CAC5B,GAAIiB,CAAAA,KAAK,CAAGD,KAAK,CAAChB,GAAN,CAAUjB,KAAV,CAAgB,GAAhB,EAAqBC,MAAjC,CACA6B,OAAO,CAAG,CAAV,CACA,GAAII,KAAK,GAAK,CAAd,CAAiB,CACb;AACH,CAFD,IAEO,CACH;AACH,CACJ,CACD9D,QAAQ,CAAC8C,IAAT,CAAcR,KAAd,EACH,CACD,GAAIS,CAAAA,MAAM,CAAGpF,CAAC,CAACqF,MAAF,CAASC,KAAT,CAAe,IAAf,CAAqBjD,QAArB,CAAb,CACAC,WAAW,CAAC8C,MAAD,CAAX,CACH,CACJ,CAED;AACA,GAAMgB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAIC,WAAJ,CAAoB,CACpC;AACA;AACA;AACA,GAAIC,CAAAA,QAAQ,CAAGF,CAAC,CAACG,MAAF,CAASC,EAAxB,CACAX,QAAQ,CAACS,QAAD,CAAR,CACA,GAAIJ,CAAAA,KAAK,CAAGI,QAAQ,CAACtC,KAAT,CAAe,GAAf,EAAoBC,MAAhC,CACA,GAAIwC,CAAAA,SAAJ,CAEA,GAAIzF,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAJ,CAA+C,CAC3CuC,cAAc,CAACxC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CyF,SAA3C,CAAd,CACH,CAED,GAAIR,KAAK,GAAK,CAAV,EAAeA,KAAK,GAAK,CAA7B,CAAgC,CAC5BpG,cAAc,GACd;AACAiC,QAAQ,CAACjD,UAAU,EAAX,CAAR,CACA;AACA0E,cAAc,CAAC4C,CAAC,CAACG,MAAF,CAASI,WAAV,CAAd,CACA,GAAI,CAACP,CAAC,CAACG,MAAF,CAASI,WAAd,CAA2B,CACvB,GAAI3F,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAJ,CAA+C,CAC3CuC,cAAc,CAACxC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CyF,SAA3C,CAAd,CACH,CACJ,CACJ,CAED,GAAIR,KAAK,GAAK,CAAd,CAAiB,CACb,GAAIU,CAAAA,QAAQ,CAAG5F,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CyF,SAAzD,CACAN,CAAC,CAACG,MAAF,CAAShF,KAAT,CAAeG,KAAf,CAAuBjC,iBAAvB,CACAsD,iBAAiB,CAACuD,QAAD,CAAjB,CACAG,SAAS,CAAGL,CAAC,CAACG,MAAF,CAASI,WAArB,CAEAzD,cAAc,CAACsB,OAAf,CAAuB,aAAvB,CAAsC6B,WAAtC,EACAtE,QAAQ,CAAC/C,mBAAmB,CAACqH,WAAD,CAApB,CAAR,CAA4C;AAE5C;AACA9F,YAAY,CAACiE,OAAb,CAAqB,uBAArB,CAA8C6B,WAA9C,EAEAnD,cAAc,CAACsB,OAAf,CAAuB,eAAvB,CAAwCoC,QAAxC,EAAmD;AACnD1D,cAAc,CAACsB,OAAf,CAAuB,eAAvB,CAAwCiC,SAAxC,EAAoD;AAGpD;AACA,GAAII,CAAAA,kBAAkB,CAAG3D,cAAc,CAAC1C,OAAf,CAAuB,UAAvB,CAAzB,CACAuB,QAAQ,CAAChD,UAAU,CAACsH,WAAD,CAAcQ,kBAAd,CAAX,CAAR,CAEA,GAAIpD,QAAQ,GAAK,IAAb,EAAqBA,QAAQ,GAAKqD,SAAlC,EAA+CrD,QAAQ,CAACQ,MAAT,EAAmB,CAAtE,CAAyE,CACrEhB,kBAAkB,CAAC,IAAD,CAAlB,CACH,CAFD,IAEO,CACH,GAAIjC,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,CAAJ,CAA+C,CAC3C;AACA,GAAID,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAJ,CAA2C,CACvCD,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCyF,SAAtC,CAAkDE,QAAlD,CACH,CACDrC,MAAM,CAACwC,QAAP,CAAgBC,MAAhB,GACH,CACDlF,KAAK,CAACmF,MAAN,GACH,CACJ,CACJ,CA3DD,CA6DJ;AACI,QAASC,CAAAA,eAAT,EAA2B,CAEvB,GAAIC,CAAAA,SAAS,CAAGnG,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCgF,KAArD,CACAkB,SAAS,CAAGA,SAAS,CAACxG,OAAV,CAAkB,IAAlB,CAAwB,MAAxB,CAAZ,CACAwG,SAAS,CAAGA,SAAS,CAACxG,OAAV,CAAkB,GAAlB,CAAuB,KAAvB,CAAZ,CACAwG,SAAS,CAAGA,SAAS,CAACxG,OAAV,CAAkB,GAAlB,CAAuB,KAAvB,CAAZ,CACAwG,SAAS,CAAGA,SAAS,CAACxG,OAAV,CAAkB,GAAlB,CAAuB,KAAvB,CAAZ,CACAwG,SAAS,CAAGA,SAAS,CAACxG,OAAV,CAAkB,GAAlB,CAAuB,KAAvB,CAAZ,CAEA,GAAIwG,SAAS,CAAClD,MAAV,CAAmB,CAAvB,CAA0B,CACtBhE,WAAW,CAAG,EAAd,CACAC,gBAAgB,CAAG,EAAnB,CACAC,UAAU,CAAG,EAAb,CAEA;AAEA,GAAIiH,CAAAA,KAAK,CAAG,GAAIC,CAAAA,MAAJ,CAAW,yJAEjBF,SAFiB,kCAAX,CAEwC,IAFxC,CAAZ,CAIA,GAAIG,CAAAA,MAAJ,CACA,MAAOA,MAAM,CAAGF,KAAK,CAACG,IAAN,CAAW9G,aAAX,CAAhB,CAA2C,CACvCR,WAAW,CAACiF,IAAZ,CAAiBoC,MAAM,CAACE,MAAP,CAAcC,GAA/B,EACAvH,gBAAgB,CAACgF,IAAjB,CAAsBoC,MAAM,CAACE,MAAP,CAAcE,QAApC,EACAvH,UAAU,CAAC+E,IAAX,CAAgBoC,MAAM,CAACE,MAAP,CAAchB,EAA9B,EACA;AACH,CAED;AACA,GAAIxF,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAJ,CAA8C,CAC1CD,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCM,KAAzC,CAA+CoG,eAA/C,CAAiEnI,oBAAjE,CACH,CACDqD,gBAAgB,CAAC3C,gBAAD,CAAhB,CACH,CACJ,CAED,QAAS0H,CAAAA,iBAAT,CAA2BxB,CAA3B,CAA8B,CAC1B,GAAIyB,CAAAA,QAAQ,CAAGzB,CAAC,CAACG,MAAF,CAASC,EAAxB,CACA,GAAIH,CAAAA,WAAW,CAAGD,CAAC,CAACG,MAAF,CAASuB,YAAT,CAAsB,aAAtB,CAAlB,CAEA,GAAI7D,CAAAA,MAAM,CAAGL,UAAU,CAAC3D,WAAW,CAAC4H,QAAD,CAAZ,CAAwB1H,UAAU,CAAC0H,QAAD,CAAlC,CAAvB,CACA,GAAI5D,MAAM,GAAK,CAAX,EAAgB,MAAQA,CAAAA,MAAR,GAAoB,QAAxC,CAAkD,CAC9C4B,QAAQ,CAAC5F,WAAW,CAAC4H,QAAD,CAAZ,CAAR,CACH,CAFD,IAEO,CACH;AACA,GAAI3E,cAAc,CAAC1C,OAAf,CAAuB,UAAvB,CAAJ,CAAwC,CACpC;AACA,GAAIqG,CAAAA,kBAAkB,CAAG3D,cAAc,CAAC1C,OAAf,CAAuB,UAAvB,CAAzB,CAEAuB,QAAQ,CAAC/C,mBAAmB,CAACqH,WAAD,CAApB,CAAR,CACAtE,QAAQ,CAAChD,UAAU,CAACsH,WAAD,CAAcQ,kBAAd,CAAX,CAAR,CAEA;AACAtC,MAAM,CAAChE,YAAP,CAAoBiE,OAApB,CAA4B,kBAA5B,CAAgD6B,WAAhD,EAEA;AACA9B,MAAM,CAAChE,YAAP,CAAoBiE,OAApB,CAA4B,gBAA5B,CACIxD,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CyF,SAD9C,EAGA;AACAnC,MAAM,CAAChE,YAAP,CAAoBiE,OAApB,CAA4B,gBAA5B,CAA8C4B,CAAC,CAACG,MAAF,CAASG,SAAvD,EAEA,GAAIjD,QAAQ,GAAK,IAAb,EAAqBA,QAAQ,GAAKqD,SAAlC,EAA+CrD,QAAQ,GAAK,WAA5D,EAA2EA,QAAQ,CAACQ,MAAT,EAAmB,CAAlG,CACE,CACEhB,kBAAkB,CAAC,IAAD,CAAlB,CACH,CAHD,IAGO,CACHrD,cAAc,CAACyG,WAAD,CAAd,CACA9B,MAAM,CAACwC,QAAP,CAAgBC,MAAhB,GACA;AACH,CAEJ,CACJ,CACJ,CAED,QAAS7F,CAAAA,UAAT,CAAoB8D,GAApB,CAAyB,CACrBY,QAAQ,CAACZ,GAAD,CAAR,CACAtD,gBAAgB,GACnB,CAED;AACA,QAASoG,CAAAA,YAAT,EAAwB,CAEpB/F,KAAK,CAAG,EAAR,CACA,GAAIgG,CAAAA,aAAa,CAAG3H,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAApB,CACA,GAAIyH,CAAAA,OAAJ,CACA,GAAInC,CAAAA,OAAJ,CACA,GAAIoC,CAAAA,SAAS,cAAI,KAAC,QAAD,wBACb,YAAK,SAAS,CAAC,QAAf,uBACI,YAAK,SAAS,CAAC,EAAf,EADJ,EADa,EAAjB,CANoB,yBAcXC,CAdW,EAehB,GAAIC,CAAAA,IAAI,CAAGlJ,SAAS,CAAC8I,aAAa,CAACG,CAAD,CAAb,CAAiBE,IAAlB,CAApB,CACAD,IAAI,CAAG,sBAAwBA,IAA/B,CACAE,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BP,aAAa,CAACG,CAAD,CAAb,CAAiBK,WAAhD,EACAP,OAAO,cACH,KAAC,QAAD,wBACI,aAAK,SAAS,CAAC,QAAf,wBACI,YAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CACzBN,eAAe,CAAEnI,oBADQ,CACciJ,UAAU,CAAE,KAD1B,CAA7B,uBAGI,aAAK,IAAI,CAAC,QAAV,CAAmB,SAAS,CAAC,uBAA7B,CACK,KAAK,CAAE,CAAChH,UAAU,CAAEjC,oBAAb,CADZ,CACgD,EAAE,CAAEwI,aAAa,CAACG,CAAD,CAAb,CAAiBlD,GADrE,CAEK,OAAO,CAAE,yBAAM9D,CAAAA,UAAU,CAAC6G,aAAa,CAACG,CAAD,CAAb,CAAiBlD,GAAlB,CAAhB,EAFd,wBAGI,aAAK,KAAK,CAAE,CAACyD,QAAQ,CAAE,UAAX,CAAuBC,IAAI,CAAE,GAA7B,CAAkCC,GAAG,CAAE,GAAvC,CAAZ,wBACI,YAAK,GAAG,CAAEC,gBAAV,CACK,SAAS,CAAC,2BADf,EADJ,cAGI,YAAK,EAAE,CAAE,OAASb,aAAa,CAACG,CAAD,CAAb,CAAiBlD,GAAnC,CAAwC,SAAS,CAAC,eAAlD,CAAkE,GAAG,CAAEmD,IAAvE,EAHJ,GAHJ,cAQI,aARJ,cASI,WACI,KAAK,CAAE,CAACU,QAAQ,CAAE,MAAX,CAAmBpH,KAAK,CAAE,SAA1B,CADX,eAEGsG,aAAa,CAACG,CAAD,CAAb,CAAiBY,IAFpB,GATJ,GAHJ,EADJ,cAkBI,aAlBJ,GADJ,EADJ,CAwBAjD,OAAO,CAAG,EAAIqC,CAAd,CAEA,GAAIrC,OAAO,EAAI,CAAf,CAAkB,CACdwC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCzC,OAAhC,EACAwC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBP,aAAa,CAACG,CAAD,CAAb,CAAiBrE,EAAxC,EACA9B,KAAK,CAACkD,IAAN,cACI,KAAC,QAAD,WACK+C,OADL,EADJ,EAMAhG,GAAG,CAACiD,IAAJ,CAASlD,KAAT,EACAA,KAAK,CAAG,EAAR,CACH,CACD,GAAI8D,OAAO,EAAI,CAAX,EAAgBA,OAAO,EAAI,CAA/B,CAAkC,CAC9BwC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCzC,OAAhC,EACAwC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCP,aAAa,CAACG,CAAD,CAAb,CAAiBrE,EAAjD,EACA9B,KAAK,CAACkD,IAAN,cACI,KAAC,QAAD,WACK+C,OADL,EADJ,EAMAhG,GAAG,CAACiD,IAAJ,CAASlD,KAAT,EACAA,KAAK,CAAG,EAAR,CACH,CACD,GAAI8D,OAAO,EAAI,CAAf,CAAkB,CACd9D,KAAK,CAACkD,IAAN,cACI,KAAC,QAAD,WACK+C,OADL,EADJ,EAKAhG,GAAG,CAACiD,IAAJ,CAASlD,KAAT,EACAA,KAAK,CAAG,EAAR,CACH,CA5Ee,EAcpB,IAAK,GAAImG,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGH,aAAa,CAAC/D,MAAlC,CAA0CkE,CAAC,EAA3C,CAA+C,OAAtCA,CAAsC,EA+D9C,CAED,GAAIa,CAAAA,UAAJ,CAEA,GAAI/G,GAAG,CAACgC,MAAJ,CAAa,CAAjB,CAAoB,CAChB+E,UAAU,CAAG,EAAI/G,GAAG,CAACgC,MAArB,CACA,IAAK,GAAIgF,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGD,UAApB,CAAgCC,CAAC,EAAjC,CAAqC,CACjChH,GAAG,CAACiD,IAAJ,CAASgD,SAAT,EACH,CAEJ,CAND,IAMO,IAAIjG,GAAG,CAACgC,MAAJ,CAAa,CAAjB,CAAoB,CACvB+E,UAAU,CAAG,EAAI/G,GAAG,CAACgC,MAArB,CACA,IAAK,GAAIgF,CAAAA,EAAC,CAAG,CAAb,CAAgBA,EAAC,CAAGD,UAApB,CAAgCC,EAAC,EAAjC,CAAqC,CACjChH,GAAG,CAACiD,IAAJ,CAASgD,SAAT,EACH,CAEJ,CANM,IAMA,IAAIjG,GAAG,CAACgC,MAAJ,CAAa,EAAjB,CAAqB,CACxB+E,UAAU,CAAG,GAAK/G,GAAG,CAACgC,MAAtB,CACA,IAAK,GAAIgF,CAAAA,GAAC,CAAG,CAAb,CAAgBA,GAAC,CAAGD,UAApB,CAAgCC,GAAC,EAAjC,CAAqC,CACjChH,GAAG,CAACiD,IAAJ,CAASgD,SAAT,EACH,CAEJ,CACDI,OAAO,CAACC,GAAR,CAAYtG,GAAZ,EACH,CAED8F,YAAY,GAEZ,QAASmB,CAAAA,WAAT,EAAuB,CACnB,GAAItG,aAAa,CAACqB,MAAd,CAAuB,CAA3B,CAA8B,CAC1BpB,gBAAgB,CAAC,CAAC,EAAD,CAAD,CAAhB,CACA;AACA7B,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCM,KAAzC,CAA+CoG,eAA/C,CAAiE,SAAjE,CACA3G,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCM,KAAzC,CAA+C4H,MAA/C,CAAwD,SAAxD,CACAnI,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCgF,KAArC,CAA6C,EAA7C,CACH,CACJ,CAED1B,MAAM,CAAC6E,OAAP,CAAiB,SAAAhD,CAAC,CAAI,CAClB,GAAIiD,CAAAA,WAAW,CAAGjD,CAAC,CAACG,MAAF,CAASC,EAA3B,CACA,GAAI6C,WAAW,GAAK,eAAhB,EAAmCA,WAAW,GAAK,gBAAnD,EAAuEA,WAAW,GAAK,YAAvF,EAAuGA,WAAW,GAAK,YAA3H,CAAyI,CACrI,GAAIlG,iBAAJ,CAAuB,CACnB0C,QAAQ,CAAC1C,iBAAD,CAAR,CACA,GAAIE,eAAJ,CAAqB,CACjB,GAAIrC,QAAQ,CAACC,cAAT,CAAwBoC,eAAxB,CAAJ,CAA8C,CAC1C,GAAIiG,CAAAA,SAAS,CAAG,SAAWjG,eAA3B,CACArC,QAAQ,CAACC,cAAT,CAAwBqI,SAAxB,EAAmC/H,KAAnC,CAAyCE,UAAzC,CAAsDhC,iBAAtD,CACAuB,QAAQ,CAACC,cAAT,CAAwBqI,SAAxB,EAAmC/H,KAAnC,CAAyCG,KAAzC,CAAiD/B,oBAAjD,CACH,CACJ,CACJ,CACJ,CACJ,CAdD,CAeJ;AACI,mBAEI,MAAC,KAAD,gCACQmC,KADR,MAEI,IAAI,CAAC,IAFT,CAGI,kBAAgB,+BAHpB,CAII,QAAQ,KAJZ,CAKI,KAAK,CAAE,CAACyH,OAAO,CAAE,MAAV,CALX,wBAQI,KAAC,OAAD,EAAS,IAAI,CAAEvG,eAAf,CAAgC,MAAM,CAAE,wBAAMC,CAAAA,kBAAkB,CAAC,KAAD,CAAxB,EAAxC,EARJ,cASI,aAAK,SAAS,CAAC,cAAf,CAA8B,KAAK,CAAE,CAAC0E,eAAe,CAAEvI,oBAAlB,CAAwCsC,KAAK,CAAE,OAA/C,CAArC,wBACI,YADJ,cAEI,MAAC,KAAD,CAAO,IAAP,EAAY,SAAS,CAAC,QAAtB,wBAEI,aAAK,KAAK,CAAE,CAAC8H,QAAQ,CAAE,QAAX,CAAZ,wBACI,YAAI,KAAK,CAAE,CAACC,KAAK,CAAE,MAAR,CAAX,wBAA4B,YAAK,GAAG,CAAEjH,YAAY,GAAK,IAAjB,CAAwBkH,SAAxB,CAAoC,IAA9C,CAAoD,GAAG,CAAC,EAAxD,CACK,OAAO,CAAE9D,MADd,EAA5B,eACmEhF,OADnE,GADJ,cAGI,WAAI,KAAK,CAAE,CAAC6I,KAAK,CAAE,OAAR,CAAX,CAA6B,OAAO,CAAE3H,KAAK,CAACmF,MAA5C,iBAHJ,GAFJ,cAOI,YAPJ,cAUI,YAAK,SAAS,CAAC,aAAf,uBAEI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,aAAf,CAA6B,KAAK,CAAE,CAChCU,eAAe,CAAElI,iBADe,CACIiC,KAAK,CAAE/B,oBADX,CAApC,CAEG,EAAE,CAAE,mBAFP,uBAGI,YAAK,SAAS,CAAC,gBAAf,CAAgC,IAAI,CAAC,OAArC,CAA6C,aAAW,aAAxD,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,EAAE,CAAE,mBAAtD,CACQ,OAAO,CAAEgC,gBADjB,6BADJ,EAHJ,EADJ,cAaI,YAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAACgI,KAAK,CAAE,IAAR,CAAjC,EAbJ,cAcI,YAAK,SAAS,CAAC,aAAf,CAA6B,KAAK,CAAE,CAAChC,eAAe,CAAErI,sBAAlB,CAApC,CACK,EAAE,CAAE,kBADT,uBAEI,YAAK,SAAS,CAAC,WAAf,CAA2B,IAAI,CAAC,OAAhC,CAAwC,aAAW,cAAnD,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,EAAE,CAAE,kBAAtD,CACQ,KAAK,CAAE,CAACoC,KAAK,CAAE,OAAR,CADf,CAEQ,OAAO,CAAEZ,eAFjB,6BADJ,EAFJ,EAdJ,cAyBI,YAAK,SAAS,CAAC,UAAf,CAA0B,KAAK,CAAE,CAAC6I,KAAK,CAAE,IAAR,CAAjC,EAzBJ,cA2BI,YAAK,SAAS,CAAC,aAAf,CAA6B,KAAK,CAAE,CAAChC,eAAe,CAAErI,sBAAlB,CAApC,CACK,EAAE,CAAE,eADT,uBAEI,YAAK,SAAS,CAAC,WAAf,CAA2B,IAAI,CAAC,OAAhC,CAAwC,aAAW,aAAnD,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,EAAE,CAAE,eAAtD,CACQ,KAAK,CAAE,CAACoC,KAAK,CAAE,OAAR,CADf,CAEQ,OAAO,CAAEE,YAFjB,yBADJ,EAFJ,EA3BJ,GADJ,EAFJ,EAVJ,cAqDI,aArDJ,cAuDI,kCACI,aAAK,KAAK,CAAE,CACR+F,eAAe,CAAEpI,uBADT,CAERqK,WAAW,CAAE,MAFL,CAGRC,YAAY,CAAE,MAHN,CAIRpB,UAAU,CAAE5H,gBAJJ,CAAZ,wBAQI,aAAK,EAAE,CAAE,gBAAT,wBACI,aADJ,cAEI,WAAI,SAAS,CAAC,uBAAd,CACI,EAAE,CAAE,gBADR,CAEI,KAAK,CAAE,CAACa,KAAK,CAAEjC,iBAAR,CAFX,UAEwC6C,aAFxC,EAFJ,cAKI,aALJ,cAMI,YAAK,SAAS,CAAC,+BAAf,CACK,KAAK,CAAE,CACHwH,MAAM,CAAE,OADL,CAEHC,SAAS,CAAE,QAFR,CAGHP,QAAQ,CAAE,QAHP,CAIHQ,cAAc,CAAE,QAJb,CAKHC,cAAc,CAAE,OALb,CADZ,UASKtF,MAAM,CAACC,IAAP,CAAYxC,QAAZ,EAAsByC,GAAtB,CAA0B,SAACC,GAAD,CAAMC,CAAN,CAAY,CACnCuD,OAAO,CAACC,GAAR,OAAmBzD,GAAnB,EACA,GAAME,CAAAA,QAAQ,CAAG5C,QAAQ,CAAC0C,GAAD,CAAzB,CACAwD,OAAO,CAACC,GAAR,mBAA+BvD,QAA/B,EACA,GAAIkF,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIlF,QAAQ,CAACC,GAAT,GAAiBnC,cAArB,CAAqC,CACjCoH,QAAQ,CAAGzK,iBAAX,CACH,CACD,GAAIuF,QAAQ,CAAC5E,QAAb,CAAuB,CACnB,mBACI,oCACI,YAAK,SAAS,CAAC,MAAf,CACK,EAAE,CAAE,SAAW4E,QAAQ,CAACC,GAD7B,CAEK,KAAK,CAAE,CAAC0C,eAAe,CAAEnI,oBAAlB,CAFZ,uBAGI,sCACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAuB,EAAE,CAAEwF,QAAQ,CAACC,GAApC,CACI,OAAO,CAAE,iBAAAmB,CAAC,QAAID,CAAAA,WAAW,CAACC,CAAD,CAAIpB,QAAQ,CAAClB,EAAb,CAAf,EADd,CAEI,KAAK,CAAE,CAACrC,UAAU,CAAEiB,WAAb,CAA0BhB,KAAK,CAAEwI,QAAjC,CAFX,mBAGYlF,QAAQ,CAAC5E,QAHrB,GAAS4E,QAAQ,CAACC,GAAlB,CADJ,EADJ,EAHJ,EADJ,cAcI,YAdJ,GADJ,CAkBH,CACJ,CA5BA,CATL,EANJ,cA+CI,aA/CJ,GARJ,cA4DI,aAAK,EAAE,CAAE,eAAT,CAA0B,KAAK,CAAE,CAACzD,OAAO,CAAE,MAAV,CAAjC,wBACI,aADJ,cAEI,UAAG,SAAS,CAAE,aAAd,oCAFJ,cAGI,aAAK,SAAS,CAAC,+BAAf,CAA+C,KAAK,CAAE,CAClDsI,MAAM,CAAE,OAD0C,CAElDC,SAAS,CAAE,QAFuC,CAGlDI,SAAS,CAAE,QAHuC,CAIlDX,QAAQ,CAAE,QAJwC,CAKlDQ,cAAc,CAAE,QALkC,CAMlDC,cAAc,CAAE,OANkC,CAAtD,wBAQI,YAAK,SAAS,CAAC,+BAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,UAAf,EADJ,cAGI,YAAK,SAAS,CAAC,QAAf,uBAEI,aAAK,SAAS,CAAC,MAAf,wBAEI,aAAK,SAAS,CAAE,kCAAhB,wBAEI,cAAO,KAAK,CAAE,CACVxI,UAAU,CAAEpC,qBADF,CAEVoJ,UAAU,CAAE,MAFF,CAGV2B,aAAa,CAAE,MAHL,CAIVR,WAAW,CAAE,MAJH,CAKVC,YAAY,CAAE,MALJ,CAMVnI,KAAK,CAAE,OANG,CAAd,CAQG,IAAI,CAAC,MARR,CASO,SAAS,CAAC,cATjB,CASgC,WAAW,CAAEwC,iBAT7C,CAUO,EAAE,CAAC,WAVV,CAWO,UAAU,CAAE,oBAACkC,CAAD,CAAO,CACf,GAAIA,CAAC,CAACJ,GAAF,GAAU,OAAd,CAAuB,CACnBkB,eAAe,GAClB,CACJ,CAfR,CAgBO,aAAW,UAhBlB,CAgB6B,mBAAiB,cAhB9C,EAFJ,cAoBI,aAAM,SAAS,CAAE,kBAAjB,CAAqC,EAAE,CAAC,cAAxC,CACM,KAAK,CAAE,CAACzF,UAAU,CAAE/B,qBAAb,CADb,uBAEA,YAAK,EAAE,CAAE,eAAT,CAA0B,GAAG,CAAE2K,UAA/B,CAA2C,GAAG,CAAC,EAA/C,CACK,OAAO,CAAEnD,eADd,EAFA,EApBJ,GAFJ,cA4BI,KAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,OAAO,CAAEgC,WAAlC,4BA5BJ,GAFJ,EAHJ,cAqCI,YAAK,SAAS,CAAC,UAAf,EArCJ,GADJ,EARJ,cAkDI,aAlDJ,cAmDI,aAnDJ,cAqDI,YAAK,EAAE,CAAC,eAAR,UACKtG,aAAa,CAACiC,GAAd,CAAkB,SAACM,MAAD,CAASmF,KAAT,qBACf,oCACI,YAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAAC3C,eAAe,CAAEnI,oBAAlB,CAA7B,CACK,EAAE,CAAC,eADR,uBAEI,YAAK,SAAS,CAAC,WAAf,CAA2B,EAAE,CAAEW,UAAU,CAACmK,KAAD,CAAzC,uBAEI,YAAgB,EAAE,CAAEA,KAApB,CAA2B,WAAW,CAAEnK,UAAU,CAACmK,KAAD,CAAlD,CACI,OAAO,CAAE1C,iBADb,mBAEYzC,MAFZ,GAASmF,KAAT,CAFJ,EAFJ,EADJ,cAWI,YAXJ,GADe,EAAlB,CADL,EArDJ,GAHJ,cA0EI,aA1EJ,GA5DJ,cA6II,aAAK,EAAE,CAAE,YAAT,CAAuB,KAAK,CAAE,CAAC9I,OAAO,CAAE,MAAV,CAA9B,wBACI,aADJ,cAEI,UAAG,SAAS,CAAE,aAAd,0BAFJ,cAGI,YAAK,SAAS,CAAC,+BAAf,CAA+C,KAAK,CAAE,CAClDsI,MAAM,CAAE,OAD0C,CAElDC,SAAS,CAAE,QAFuC,CAGlDP,QAAQ,CAAE,QAHwC,CAIlDQ,cAAc,CAAE,QAJkC,CAKlDC,cAAc,CAAE,OALkC,CAAtD,uBAOI,aAAK,SAAS,CAAC,KAAf,WAEKhI,GAFL,cAGI,aAHJ,GAPJ,EAHJ,GA7IJ,GADJ,EAvDJ,GAFJ,cA4NI,aA5NJ,GATJ,IAFJ,CA2OH,CAED,cAAeJ,CAAAA,cAAf","sourcesContent":["import {Button, Modal} from \"react-bootstrap\";\nimport React, {useState, Fragment} from \"react\";\nimport {useDispatch, useSelector} from 'react-redux';\nimport {\n    getRegionChildren,\n    getRegions,\n    getStudies,\n    updateLastPeerGroup,\n    updateLastRegion\n} from './store/dashboardActions';\nimport arrowLeft from './Styleguide/arrow_left.svg';\nimport searchIcon from './Styleguide/search_icon.svg';\nimport circleBackground from './Styleguide/circle_background.svg';\n// import getQuickLinks from \"./Utils/quickLinks\";\nimport urlencode from 'urlencode'\nimport Regions from './Regions'\n\nimport {\n    peerformanceDarkBlue,\n    peerformanceDarkBlue2,\n    peerformanceBlueButton,\n    peerformanceBackground2,\n    peerformanceListItem,\n    peerformanceGreen,\n    peerformanceDarkGreen,\n    peerformanceBlueText\n} from \"./colours\"\nimport {fetchPeerGroup, fetchStudyByRegion, fetchTop3Level} from \"./store/dashboardFetches\";\n\nlet _ = require('lodash');\nlet searchedSIC = [];\nlet searchedCategory = [];\nlet searchedId = [];\n\nlet Category = \"Nothing\"\nCategory = JSON.parse(localStorage.getItem('categories'));\n\nlet dataStringify = JSON.stringify(localStorage.getItem('categories')).replace(/\\\\\"/g, '\"');\nlet tabText = \"Find your peer group\";\nlet customPaddingTop = \"0px\";\n\n\n// This function will hide industry filter and quick links div\nfunction keyWordSearchFn() {\n    let industryFilter = document.getElementById(\"industryFilter\");\n    let keyWordSearch = document.getElementById(\"keyWordSearch\");\n    let quickLinks = document.getElementById(\"quickLinks\");\n    let keyWordSearchBtn = document.getElementById(\"keyWordSearchBtn\");\n    let industryFilterBtn = document.getElementById(\"industryFilterBtn\");\n    let quickLinksBtn = document.getElementById(\"quickLinksBtn\");\n    tabText = (\"Change peer group\");\n\n\n    if (industryFilter.style.display === \"none\" || quickLinks.style.display === \"none\") {\n        keyWordSearch.style.display = \"block\";\n        industryFilter.style.display = \"none\";\n        quickLinks.style.display = \"none\";\n\n        keyWordSearchBtn.style.background = peerformanceGreen;\n        document.getElementById(\"keyWordSearchDiv\").style.background = peerformanceGreen;\n        keyWordSearchBtn.style.color = peerformanceBlueText;\n\n        industryFilterBtn.style.background = peerformanceBlueButton;\n        document.getElementById(\"industryFilterDiv\").style.background = peerformanceBlueButton;\n        industryFilterBtn.style.color = \"white\";\n\n        quickLinksBtn.style.background = peerformanceBlueButton;\n        document.getElementById(\"quickLinksDiv\").style.background = peerformanceBlueButton;\n        quickLinksBtn.style.color = 'white';\n\n        tabText = (\"Change peer group\");\n\n    } else {\n        industryFilter.style.display = \"none\";\n        quickLinks.style.display = \"none\";\n        tabText = (\"Change peer group\");\n    }\n}\n\n// This function will hide keyword search and quick links div\nfunction industryFilterFn() {\n    let industryFilter = document.getElementById(\"industryFilter\");\n    let keyWordSearch = document.getElementById(\"keyWordSearch\");\n    let quickLinks = document.getElementById(\"quickLinks\");\n    let keyWordSearchBtn = document.getElementById(\"keyWordSearchBtn\");\n    let industryFilterBtn = document.getElementById(\"industryFilterBtn\");\n    let quickLinksBtn = document.getElementById(\"quickLinksBtn\");\n\n    if (keyWordSearch.style.display === \"none\" || quickLinks.style.display === \"none\") {\n        industryFilter.style.display = \"block\";\n        quickLinks.style.display = \"none\";\n        keyWordSearch.style.display = \"none\";\n\n        keyWordSearchBtn.style.background = peerformanceBlueButton;\n        document.getElementById(\"keyWordSearchDiv\").style.background = peerformanceBlueButton;\n        keyWordSearchBtn.style.color = 'white';\n\n        industryFilterBtn.style.background = peerformanceGreen;\n        document.getElementById(\"industryFilterDiv\").style.background = peerformanceGreen;\n        industryFilterBtn.style.color = peerformanceBlueText;\n\n        quickLinksBtn.style.background = peerformanceBlueButton;\n        document.getElementById(\"quickLinksDiv\").style.background = peerformanceBlueButton;\n        quickLinksBtn.style.color = 'white';\n\n\n    } else {\n        industryFilter.style.display = \"none\";\n        quickLinks.style.display = \"none\";\n    }\n}\n\n// This function will hide keyword search and industry div\nfunction quickLinksFn() {\n\n    let industryFilter = document.getElementById(\"industryFilter\");\n    let keyWordSearch = document.getElementById(\"keyWordSearch\");\n    let quickLinks = document.getElementById(\"quickLinks\");\n    let keyWordSearchBtn = document.getElementById(\"keyWordSearchBtn\");\n    let industryFilterBtn = document.getElementById(\"industryFilterBtn\");\n    let quickLinksBtn = document.getElementById(\"quickLinksBtn\");\n\n    if (keyWordSearch.style.display === \"none\" || industryFilter.style.display === \"none\") {\n        quickLinks.style.display = \"block\";\n        industryFilter.style.display = \"none\";\n        keyWordSearch.style.display = \"none\";\n\n        keyWordSearchBtn.style.background = peerformanceBlueButton;\n        document.getElementById(\"keyWordSearchDiv\").style.background = peerformanceBlueButton;\n        keyWordSearchBtn.style.color = 'white';\n\n        industryFilterBtn.style.background = peerformanceBlueButton;\n        document.getElementById(\"industryFilterDiv\").style.background = peerformanceBlueButton;\n        industryFilterBtn.style.color = 'white';\n\n        quickLinksBtn.style.background = peerformanceGreen;\n        document.getElementById(\"quickLinksDiv\").style.background = peerformanceGreen;\n        quickLinksBtn.style.color = peerformanceBlueText;\n        tabText = (\"Change peer group\");\n    } else {\n        industryFilter.style.display = \"none\";\n        quickLinks.style.display = \"none\";\n        tabText = (\"Change peer group\");\n    }\n}\n\nfunction BrowseCategory(props) {\n    const dispatch = useDispatch();\n    let cards = [];\n    let row = [];\n    let results = getLevel1_Elements();\n    let [children, setChildren] = useState(results);\n    let [previousTitle, setPreviousTitle] = useState();\n    let [previousKeys, setPreviousKeys] = useState(null);\n    let [level6Style, setLevel6Style] = useState();\n    let [searchResults, setSearchResults] = useState([]);\n    let [selectedLevel6, setSelectedLevel6] = useState();\n    let [regionModalShow, setRegionModalShow] = useState(false);\n    let [getLevel4_5Parent, setLevel4_5Parent] = useState(sessionStorage.getItem(\"fetchedLevel4SIC\"));\n    let [getLevel6Parent, setLevel6Parent] = useState(sessionStorage.getItem(\"fetchedLevel6SIC\"));\n    let [getLevel4_5txt, setLevel4_5txt] = useState(false);\n    let regionId = sessionStorage.getItem(\"regionId\");\n\n    let getUserId = JSON.parse(sessionStorage.getItem(\"user\"));\n    getUserId = JSON.stringify(getUserId.userId);\n\n\n    // Search\n    function checkLevel(SICCode, ID) {\n\n        let sic_Code_splitter = SICCode.split(\".\");\n        //alert(\"sic_Code_splitter:\" + sic_Code_splitter)\n        // alert(\"id:\" + ID)\n\n        if (sic_Code_splitter.length === 6) {\n            return SICCode\n        }\n\n        if (sic_Code_splitter.length <= 5) {\n            industryFilterFn();\n            return sic_Code_splitter.length\n        }\n    }\n\n    let [searchPlaceholder, setSearchPlaceholder] = useState(\"e.g. recruitment\");\n\n    // get all regions\n    const regions = useSelector(state => {\n        return state.dashboard.regions;\n    });\n\n    window.localStorage.setItem(\"regions\", JSON.stringify(regions));\n\n    function getLevel1_Elements() {\n        let level1 = [];\n        let myObj = new Object();\n        Object.keys(Category).map((val, k) => {\n            const theValue = Category[val];\n            myObj = {\n                [theValue.SIC]: {\n                    \"SIC\": theValue.SIC,\n                    \"Category\": theValue.Category,\n                    \"ID\": theValue.ID\n                }\n            };\n            level1.push(myObj)\n        });\n        let result = _.extend.apply(null, level1);\n        return result\n    }\n\n    function SICCodeSorter(SICCode) {\n        let sic_Code_splitter = SICCode.split(\".\");\n        let changePeerGroup = \"Change peer group\";\n        customPaddingTop = \"0px\";\n\n\n        // level 1\n        if (sic_Code_splitter.length === 1) {\n            customPaddingTop = \"20px\";\n            tabText = changePeerGroup;\n            setPreviousTitle(Category[SICCode].Category);\n            setPreviousKeys(\"\"); // get previous keys\n            return Category[SICCode]\n        }\n\n        // level 2\n        if (sic_Code_splitter.length === 2) {\n            customPaddingTop = \"20px\";\n            tabText = changePeerGroup;\n            let level1 = sic_Code_splitter[0];\n            let level2 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1];\n\n            setPreviousTitle(Category[level1][level2].Category);\n            setPreviousKeys(level1); // get previous keys\n            return Category[level1][level2];\n        }\n\n        // level 3\n        if (sic_Code_splitter.length === 3) {\n            customPaddingTop = \"20px\";\n            tabText = changePeerGroup;\n            let level1 = sic_Code_splitter[0];\n            let level2 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1];\n            let level3 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1] + '.' + sic_Code_splitter[2];\n\n            setPreviousTitle(Category[level1][level2][level3].Category)\n            setPreviousKeys(level2); // get previous keys\n            return Category[level1][level2][level3];\n        }\n\n        // level 4\n        if (sic_Code_splitter.length === 4) {\n            customPaddingTop = \"20px\";\n            tabText = changePeerGroup;\n            let level1 = sic_Code_splitter[0];\n            let level2 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1];\n            let level3 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1] + '.' + sic_Code_splitter[2];\n            let level4 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1] + '.' + sic_Code_splitter[2] + '.' + sic_Code_splitter[3];\n\n            setPreviousTitle(Category[level1][level2][level3][level4].Category)\n            setPreviousKeys(level3); // get previous keys\n            return Category[level1][level2][level3][level4];\n        }\n\n        // level 5\n        if (sic_Code_splitter.length === 5) {\n            customPaddingTop = \"20px\";\n            tabText = changePeerGroup;\n            let level1 = sic_Code_splitter[0];\n            let level2 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1];\n            let level3 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1] + '.' + sic_Code_splitter[2];\n            let level4 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1] + '.' + sic_Code_splitter[2] + '.' + sic_Code_splitter[3];\n            let level5 = sic_Code_splitter[0] + '.' + sic_Code_splitter[1] + '.' + sic_Code_splitter[2] + '.' + sic_Code_splitter[3] + '.' + sic_Code_splitter[4];\n\n            setPreviousTitle(Category[level1][level2][level3][level4][level5].Category);\n\n            setPreviousKeys(level4); // get previous keys\n            return Category[level1][level2][level3][level4][level5];\n        }\n    }\n\n    function goBack() {\n        if (previousKeys === null) {\n            setPreviousTitle(null);\n            setChildren(results);\n            tabText = (\"Find your peer group \")\n        }\n        if (previousKeys !== null && previousKeys.length >= 1) {\n            getChild(previousKeys);\n        }\n        if (previousKeys !== null && previousKeys.length <= 0) {\n            setPreviousTitle(null);\n            setChildren(results);\n            tabText = (\"Find your peer group\")\n        }\n    }\n\n    function getChild(SICCode) {\n        let children = [];\n        let myObj = {};\n\n        if (SICCode && SICCode.split(\".\").length <= 5) {\n            let counter = 0; // Counter Flag\n\n            for (const [key, value] of Object.entries(SICCodeSorter(SICCode))) {\n                myObj = {\n                    [value.SIC]: {\n                        \"SIC\": value.SIC,\n                        \"Category\": value.Category,\n                        \"key\": key,\n                        \"ID\": value.ID\n                    }\n                };\n                if (counter === 0 && value.SIC) {\n                    let level = value.SIC.split(\".\").length;\n                    counter = 1;\n                    if (level === 6) {\n                        // setLevel6Style(\"pink\")\n                    } else {\n                        // setLevel6Style(\"\")\n                    }\n                }\n                children.push(myObj)\n            }\n            let result = _.extend.apply(null, children);\n            setChildren(result)\n        }\n    }\n\n    // Industry filter\n    const listClicked = (e, peerGroupID) => {\n        // if (getLevel4_5Parent) {\n        //     getChild(getLevel4_5Parent)\n        // } else {\n        let searchId = e.target.id;\n        getChild(searchId);\n        let level = searchId.split(\".\").length;\n        let level6txt;\n\n        if (document.getElementById(\"selectedLevel5\")) {\n            setLevel4_5txt(document.getElementById(\"selectedLevel5\").innerText)\n        }\n\n        if (level === 4 || level === 5) {\n            fetchTop3Level();\n            // fetch all regions\n            dispatch(getRegions());\n            // set level 5 title\n            setLevel4_5txt(e.target.textContent);\n            if (!e.target.textContent) {\n                if (document.getElementById(\"selectedLevel5\")) {\n                    setLevel4_5txt(document.getElementById(\"selectedLevel5\").innerText)\n                }\n            }\n        }\n\n        if (level === 6) {\n            let leve5Txt = document.getElementById(\"selectedLevel5\").innerText;\n            e.target.style.color = peerformanceGreen;\n            setSelectedLevel6(searchId);\n            level6txt = e.target.textContent;\n\n            sessionStorage.setItem(\"peerGroupId\", peerGroupID);\n            dispatch(updateLastPeerGroup(peerGroupID)); // send an update to the database\n\n            // Set the peer group that the user last selected\n            localStorage.setItem(\"lastSelectedPeerGroup\", peerGroupID)\n\n            sessionStorage.setItem(\"fetchedLevel4\", leve5Txt); // fine\n            sessionStorage.setItem(\"fetchedLevel6\", level6txt); // fine\n\n\n            // getting the region id from session storage\n            let getRegionFromStore = sessionStorage.getItem(\"regionId\");\n            dispatch(getStudies(peerGroupID, getRegionFromStore));\n\n            if (regionId === null || regionId === undefined || regionId.length <= 0) {\n                setRegionModalShow(true);\n            } else {\n                if (document.getElementById(\"selectedLevel5\")) {\n                    // alert(\"we are here:\" + document.getElementById(\"selectedLevel5\").innerText)\n                    if (document.getElementById(\"level5Text\")) {\n                        document.getElementById(\"level5Text\").innerText = leve5Txt\n                    }\n                    window.location.reload();\n                }\n                props.onHide();\n            }\n        }\n    }\n\n// Search function\n    function searchForString() {\n\n        let userInput = document.getElementById(\"searchBox\").value;\n        userInput = userInput.replace(\"\\\\\", \"\\\\\\\\\");\n        userInput = userInput.replace(\"(\", \"\\\\(\");\n        userInput = userInput.replace(\")\", \"\\\\)\");\n        userInput = userInput.replace(\".\", \"\\\\.\");\n        userInput = userInput.replace(\"/\", \"\\\\/\");\n\n        if (userInput.length > 0) {\n            searchedSIC = [];\n            searchedCategory = [];\n            searchedId = []\n\n            // TODO: Add enter functions\n\n            let regex = new RegExp(`\"ID\":(?<id>[0-9]+),\"SIC\":\"(?<sic>[A-Z]\\\\.[0-9]+\\\\.[0-9]+\\\\.[0-9]+(?:\\\\.[0-9]+){0,2})\",` +\n                `\"Category\":\"(?<category>[a-zA-Z0-9 ,;\\\\/\\\\(\\\\)\\\\.-]*`\n                + userInput + `[a-zA-Z0-9 ,;\\\\/\\\\(\\\\)\\\\.-]*)\"`, \"ig\");\n\n            let output;\n            while (output = regex.exec(dataStringify)) {\n                searchedSIC.push(output.groups.sic);\n                searchedCategory.push(output.groups.category);\n                searchedId.push(output.groups.id);\n                //searchedId.push(16775); // TODO - This is hard coded\n            }\n\n            // Setting the first element within the results list to contain a background and boarder\n            if (document.getElementById(\"parentResults\")) {\n                document.getElementById(\"parentResults\").style.backgroundColor = peerformanceListItem;\n            }\n            setSearchResults(searchedCategory);\n        }\n    }\n\n    function searchListClicked(e) {\n        let searchID = e.target.id;\n        let peerGroupID = e.target.getAttribute(\"peerGroupID\");\n\n        let length = checkLevel(searchedSIC[searchID], searchedId[searchID]);\n        if (length !== 6 && typeof (length) === \"number\") {\n            getChild(searchedSIC[searchID]);\n        } else {\n            // getChild(length);\n            if (sessionStorage.getItem(\"regionId\")) {\n                // getting the region id from session storage\n                let getRegionFromStore = sessionStorage.getItem(\"regionId\");\n\n                dispatch(updateLastPeerGroup(peerGroupID));\n                dispatch(getStudies(peerGroupID, getRegionFromStore));\n\n                // // Set title\n                window.localStorage.setItem(\"selectedLevel6Id\", peerGroupID);\n\n                // store the last level 5 element that was selected\n                window.localStorage.setItem(\"selectedLevel5\",\n                    document.getElementById(\"selectedLevel5\").innerText);\n\n                // store the last level 6 element that was selected\n                window.localStorage.setItem(\"selectedLevel6\", e.target.innerText)\n\n                if (regionId === null || regionId === undefined || regionId === \"undefined\" || regionId.length <= 0\n                ) {\n                    setRegionModalShow(true);\n                } else {\n                    fetchPeerGroup(peerGroupID);\n                    window.location.reload();\n                    // props.onHide();\n                }\n\n            }\n        }\n    }\n\n    function quickLinks(SIC) {\n        getChild(SIC);\n        industryFilterFn();\n    }\n\n    // Generate cards for quick links\n    function generateHtml() {\n\n        cards = [];\n        let quickLinkData = JSON.parse(localStorage.getItem('quickLinks'));\n        let newcard;\n        let counter;\n        let emptyCard = (<Fragment>\n            <div className=\"col-sm\">\n                <div className=\"\">\n                </div>\n            </div>\n        </Fragment>)\n\n\n        for (let i = 0; i < quickLinkData.length; i++) {\n            let logo = urlencode(quickLinkData[i].Icon);\n            logo = \"data:image/svg+xml,\" + logo;\n            console.log(\"Here are here: \", quickLinkData[i].PeerGroupID);\n            newcard = (\n                <Fragment>\n                    <div className=\"col-sm\">\n                        <div className=\"card\" style={{\n                            backgroundColor: peerformanceListItem, paddingTop: \"8px\"\n                        }}>\n                            <div type=\"button\" className=\"card-body text-center\"\n                                 style={{background: peerformanceListItem}} id={quickLinkData[i].SIC}\n                                 onClick={() => quickLinks(quickLinkData[i].SIC)}>\n                                <div style={{position: \"relative\", left: \"0\", top: \"0\"}}>\n                                    <img src={circleBackground}\n                                         className=\"quickLinkCircleBackGround\"/>\n                                    <img id={\"icon\" + quickLinkData[i].SIC} className=\"quickLinkIcon\" src={logo}/>\n                                </div>\n                                <br/>\n                                <p\n                                    style={{fontSize: \"15px\", color: \"#A5ACCB\"}}\n                                > {quickLinkData[i].Name}</p>\n                            </div>\n                        </div>\n                        <br/>\n                    </div>\n                </Fragment>\n            )\n            counter = 1 + i;\n\n            if (counter <= 4) {\n                console.log(\"counter stage 1:\", counter);\n                console.log(\"counter\", quickLinkData[i].ID);\n                cards.push(\n                    <Fragment>\n                        {newcard}\n                    </Fragment>\n                );\n\n                row.push(cards)\n                cards = []\n            }\n            if (counter >= 5 && counter <= 8) {\n                console.log(\"counter stage 2:\", counter);\n                console.log(\"counter stage 2:\", quickLinkData[i].ID);\n                cards.push(\n                    <Fragment>\n                        {newcard}\n                    </Fragment>\n                );\n\n                row.push(cards)\n                cards = []\n            }\n            if (counter >= 9) {\n                cards.push(\n                    <Fragment>\n                        {newcard}\n                    </Fragment>\n                );\n                row.push(cards)\n                cards = []\n            }\n        }\n\n        let difference;\n\n        if (row.length < 4) {\n            difference = 4 - row.length;\n            for (let x = 0; x < difference; x++) {\n                row.push(emptyCard)\n            }\n\n        } else if (row.length < 8) {\n            difference = 8 - row.length;\n            for (let x = 0; x < difference; x++) {\n                row.push(emptyCard)\n            }\n\n        } else if (row.length < 12) {\n            difference = 12 - row.length;\n            for (let x = 0; x < difference; x++) {\n                row.push(emptyCard)\n            }\n\n        }\n        console.log(row);\n    }\n\n    generateHtml();\n\n    function clearSearch() {\n        if (searchResults.length > 0) {\n            setSearchResults([\"\"]);\n            // Setting the first element within the results list to not contain a background and boarder\n            document.getElementById(\"parentResults\").style.backgroundColor = \"initial\"\n            document.getElementById(\"parentResults\").style.border = \"initial\"\n            document.getElementById('searchBox').value = '';\n        }\n    }\n\n    window.onclick = e => {\n        let peerGroupId = e.target.id;\n        if (peerGroupId === \"peerGroupText\" || peerGroupId === \"peerGroupTitle\" || peerGroupId === \"level5Text\" || peerGroupId === \"level6Text\") {\n            if (getLevel4_5Parent) {\n                getChild(getLevel4_5Parent)\n                if (getLevel6Parent) {\n                    if (document.getElementById(getLevel6Parent)) {\n                        let parentDiv = \"parent\" + getLevel6Parent;\n                        document.getElementById(parentDiv).style.background = peerformanceGreen;\n                        document.getElementById(parentDiv).style.color = peerformanceBlueText;\n                    }\n                }\n            }\n        }\n    }\n// Search\n    return (\n\n        <Modal\n            {...props}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n            style={{padding: \"70px\"}}\n        >\n\n            <Regions show={regionModalShow} onHide={() => setRegionModalShow(false)}/>\n            <div className=\"container-lg\" style={{backgroundColor: peerformanceDarkBlue, color: \"white\"}}>\n                <p></p>\n                <Modal.Body className=\"col-sm\">\n\n                    <div style={{overflow: \"hidden\"}}>\n                        <h6 style={{float: \"left\"}}><img src={previousKeys !== null ? arrowLeft : null} alt=\"\"\n                                                         onClick={goBack}/> &nbsp; &nbsp; {tabText}</h6>\n                        <h6 style={{float: \"right\"}} onClick={props.onHide}> X </h6>\n                    </div>\n                    <p></p>\n\n\n                    <div className=\"text-center\">\n\n                        <div className=\"container\">\n                            <div className=\"row\">\n                                <div className=\"col-sm card\" style={{\n                                    backgroundColor: peerformanceGreen, color: peerformanceBlueText\n                                }} id={\"industryFilterDiv\"}>\n                                    <div className=\"btn-group me-8\" role=\"group\" aria-label=\"First group\">\n                                        <button type=\"button\" className=\"btn shadow-none\" id={\"industryFilterBtn\"}\n                                                onClick={industryFilterFn}\n                                        >Industry filter\n                                        </button>\n\n                                    </div>\n                                </div>\n\n                                <div className=\"col-sm-1\" style={{width: \"4%\"}}></div>\n                                <div className=\"col-sm card\" style={{backgroundColor: peerformanceBlueButton}}\n                                     id={\"keyWordSearchDiv\"}>\n                                    <div className=\"btn-group\" role=\"group\" aria-label=\"Second group\">\n                                        <button type=\"button\" className=\"btn shadow-none\" id={\"keyWordSearchBtn\"}\n                                                style={{color: \"white\"}}\n                                                onClick={keyWordSearchFn}\n                                        >\n                                            Key Word Search\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className=\"col-sm-1\" style={{width: \"4%\"}}></div>\n\n                                <div className=\"col-sm card\" style={{backgroundColor: peerformanceBlueButton}}\n                                     id={\"quickLinksDiv\"}>\n                                    <div className=\"btn-group\" role=\"group\" aria-label=\"Third group\">\n                                        <button type=\"button\" className=\"btn shadow-none\" id={\"quickLinksBtn\"}\n                                                style={{color: \"white\"}}\n                                                onClick={quickLinksFn}>\n                                            Quick links\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <br/>\n\n                    <div>\n                        <div style={{\n                            backgroundColor: peerformanceBackground2,\n                            paddingLeft: \"10px\",\n                            paddingRight: \"20px\",\n                            paddingTop: customPaddingTop\n                        }}>\n\n                            {/* start Browse*/}\n                            <div id={\"industryFilter\"}>\n                                <br/>\n                                <h5 className=\"text-center container\"\n                                    id={\"selectedLevel5\"}\n                                    style={{color: peerformanceGreen}}>{previousTitle}</h5>\n                                <br/>\n                                <div className=\"container-fluid overflow-auto\"\n                                     style={{\n                                         height: \"500px\",\n                                         overflowY: \"scroll\",\n                                         overflow: \"scroll\",\n                                         scrollBehavior: \"smooth\",\n                                         scrollbarColor: \"green\"\n                                     }}>\n\n                                    {Object.keys(children).map((val, k) => {\n                                        console.log(`val`, val)\n                                        const theValue = children[val];\n                                        console.log(`theValue-------`, theValue);\n                                        let myString = '';\n                                        if (theValue.SIC === selectedLevel6) {\n                                            myString = peerformanceGreen;\n                                        }\n                                        if (theValue.Category) {\n                                            return (\n                                                <div>\n                                                    <div className=\"card\"\n                                                         id={\"parent\" + theValue.SIC}\n                                                         style={{backgroundColor: peerformanceListItem,}}>\n                                                        <onHover>\n                                                            <div className=\"card-body\">\n                                                                <h7 key={theValue.SIC} id={theValue.SIC}\n                                                                    onClick={e => listClicked(e, theValue.ID)}\n                                                                    style={{background: level6Style, color: myString}}>\n                                                                    &nbsp; {theValue.Category}\n                                                                </h7>\n                                                            </div>\n                                                        </onHover>\n                                                    </div>\n                                                    <p></p>\n                                                </div>\n                                            )\n                                        }\n                                    })\n                                    }\n\n                                </div>\n                                <br/>\n                            </div>\n                            {/* end Browse*/}\n\n                            {/* Start Key word search */}\n                            <div id={\"keyWordSearch\"} style={{display: \"none\"}}>\n                                <br/>\n                                <p className={\"text-center\"}> Search for a category</p>\n                                <div className=\"container-fluid overflow-auto\" style={{\n                                    height: \"492px\",\n                                    overflowY: \"scroll\",\n                                    overflowX: \"scroll\",\n                                    overflow: \"scroll\",\n                                    scrollBehavior: \"smooth\",\n                                    scrollbarColor: \"green\"\n                                }}>\n                                    <div className=\"container-fluid overflow-auto\">\n                                        <div className=\"row\">\n                                            <div className=\"col-sm-2\">\n                                            </div>\n                                            <div className=\"col-sm\">\n\n                                                <div className=\"card\">\n\n                                                    <div className={\"input-group col-xs-2 text-center\"}\n                                                    >\n                                                        <input style={{\n                                                            background: peerformanceDarkBlue2,\n                                                            paddingTop: \"10px\",\n                                                            paddingBottom: \"10px\",\n                                                            paddingLeft: \"25px\",\n                                                            paddingRight: \"15px\",\n                                                            color: \"white\"\n\n                                                        }} type=\"text\"\n                                                               className=\"form-control\" placeholder={searchPlaceholder}\n                                                               id=\"searchBox\"\n                                                               onKeyPress={(e) => {\n                                                                   if (e.key === \"Enter\") {\n                                                                       searchForString()\n                                                                   }\n                                                               }}\n                                                               aria-label=\"Username\" aria-describedby=\"basic-addon1\"\n                                                        />\n                                                        <span className={\"input-group-text\"} id=\"basic-addon1\"\n                                                              style={{background: peerformanceDarkGreen}}>\n                                                        <img id={\"searchIconBtn\"} src={searchIcon} alt=\"\"\n                                                             onClick={searchForString}/>\n                                                        </span>\n                                                    </div>\n                                                    <Button variant=\"danger\" onClick={clearSearch}> Clear\n                                                        Search </Button>\n                                                </div>\n                                            </div>\n                                            <div className=\"col-sm-2\">\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <br/>\n                                    <br/>\n\n                                    <div id=\"searchResults\">\n                                        {searchResults.map((result, index) => (\n                                            <div>\n                                                <div className=\"card\" style={{backgroundColor: peerformanceListItem}}\n                                                     id=\"parentResults\">\n                                                    <div className=\"card-body\" id={searchedId[index]}>\n\n                                                        <h7 key={index} id={index} peerGroupID={searchedId[index]}\n                                                            onClick={searchListClicked}>\n                                                            &nbsp; {result}\n                                                        </h7>\n                                                    </div>\n                                                </div>\n                                                <p></p>\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n                                <br/>\n\n                            </div>\n\n                            {/* end Key word search */}\n\n                            {/* Quick links */}\n                            <div id={\"quickLinks\"} style={{display: \"none\"}}>\n                                <br/>\n                                <p className={\"text-center\"}> Quick Links</p>\n                                <div className=\"container-fluid overflow-auto\" style={{\n                                    height: \"515px\",\n                                    overflowY: \"scroll\",\n                                    overflow: \"scroll\",\n                                    scrollBehavior: \"smooth\",\n                                    scrollbarColor: \"green\",\n                                }}>\n                                    <div className=\"row\"\n                                    >\n                                        {row}\n                                        <br/>\n                                    </div>\n                                </div>\n                            </div>\n                            {/* End Quick links */}\n                        </div>\n                    </div>\n                </Modal.Body>\n                <br/>\n            </div>\n        </Modal>\n    );\n}\n\nexport default BrowseCategory;"]},"metadata":{},"sourceType":"module"}